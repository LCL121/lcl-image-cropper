!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LCLImageCropper=e()}(this,(function(){"use strict";var t="main__crop-main__2Xu2i",e="main__crop-bottom-box__12vLt",n="main__crop-mask__M2Lxd",o="main__crop-box__3wkxc",i="main__crop-box-img__2qWsz",r="main__crop-box-move__1aJO-",a="main__crop-box-info__1ILcD",s="main__crop-box-point-line-wrapper__289IK",p="main__crop-line__1-vEG",c="main__crop-line-top__2gG5M",l="main__crop-line-right__176v6",d="main__crop-line-bottom__3Ca1o",h="main__crop-line-left__2jeu5",m="main__crop-point__15KQj",u="main__crop-point1__2PZiE",_="main__crop-point2__KsQWe",f="main__crop-point3__3c0so",v="main__crop-point4__3c9hU",x="main__crop-point5__3L_Nc",w="main__crop-point6__3CWwi",g="main__crop-point7__1Ymsl",y="main__crop-point8__3-RHx",L=function(t,e){var n=document.createElement(t);if(e)for(var o=0,i=e;o<i.length;o++){var r=i[o];n.classList.add(r)}return n},b=function(t){for(var e=0,n=0;t;)e+=t.offsetTop,n+=t.offsetLeft,t=t.parentElement;return{top:e,left:n}},M=function(){this.cropBottomBoxMain=L("div",[e]),this.img=L("img"),this.cropBottomBoxMain.append(this.img)},B=function(){this.cropLineTop=L("span",[p,c]),this.cropLineRight=L("span",[p,l]),this.cropLineBottom=L("span",[p,d]),this.cropLineLeft=L("span",[p,h]),this.cropPoint1=L("span",[m,u]),this.cropPoint2=L("span",[m,_]),this.cropPoint3=L("span",[m,f]),this.cropPoint4=L("span",[m,v]),this.cropPoint5=L("span",[m,x]),this.cropPoint6=L("span",[m,w]),this.cropPoint7=L("span",[m,g]),this.cropPoint8=L("span",[m,y]),this.cropBoxPointLineWrapperMain=L("div",[s]),this.cropBoxPointLineWrapperMain.append(this.cropLineTop,this.cropLineRight,this.cropLineBottom,this.cropLineLeft,this.cropPoint1,this.cropPoint2,this.cropPoint3,this.cropPoint4,this.cropPoint5,this.cropPoint6,this.cropPoint7,this.cropPoint8)},E=function(){this.cropBoxImgMain=L("div",[i]),this.img=L("img"),this.cropBoxImgMain.append(this.img)},X=function(){this.cropBoxInfoMain=L("div",[a]),this.infoWidth=L("span"),this.infoHeight=L("span"),this.cropBoxInfoMain.append(this.infoWidth,document.createTextNode(" x "),this.infoHeight)},Y=function(){this.cropBoxMain=L("div",[o]),this.cropBoxImgObj=new E,this.cropBoxMove=L("div",[r]),this.cropBoxInfoObj=new X,this.cropBoxPointLineWrapperObj=new B,this.cropBoxMain.append(this.cropBoxImgObj.cropBoxImgMain,this.cropBoxMove,this.cropBoxInfoObj.cropBoxInfoMain,this.cropBoxPointLineWrapperObj.cropBoxPointLineWrapperMain)},F=function(){function e(e,o,i){var r=this;this.cropMainMain=L("div",[t]),this.cropBottomBox=new M,this.cropMask=L("div",[n]),this.cropBox=new Y,this.cropMainMain.append(this.cropBottomBox.cropBottomBoxMain,this.cropMask,this.cropBox.cropBoxMain),this.cropBottomBox.img.onload=function(t){var n=r.cropBox.cropBoxMain,a=r.cropBox.cropBoxImgObj.img,s=r.cropBottomBox.img,p=r.cropBox.cropBoxInfoObj.infoWidth,c=r.cropBox.cropBoxInfoObj.infoHeight,l=t.target,d=l.height;e(l.width,l.height);var h=l.height/300,m=l.width/h;n.style.left=Math.floor((500-m)/2)+"px",n.style.width=(o||Math.floor(m/2))+"px",n.style.height=(i||150)+"px",n.style.transform="translate3d(0px, 0px, 0px)",screen.width<500&&(r.cropMainMain.style.width=screen.width+"px",n.style.left=Math.floor((screen.width-m)/2)+"px"),a.style.width=m+"px",a.style.height="300px",a.style.transform="translate3d(0px, 0px, 0px)",s.style.height="300px",c.innerHTML=""+(o||Math.floor(m/2)),p.innerHTML=""+(i||150),r.proportion=l.height/d}}return e.prototype.getProportion=function(){return this.proportion?this.proportion:0},e}(),P=function(){function t(){}return t.move=function(t,e,n){var o=!1,i={clientX:0,clientY:0},r={clientX:0,clientY:0};function a(t){var a=t;if(o){var s=a.clientX-i.clientX+r.clientX,p=parseFloat(n.style.width)-parseFloat(e.style.width);s>p&&(s=p),s<0&&(s=0);var c=a.clientY-i.clientY+r.clientY,l=parseFloat(n.style.height)-parseFloat(e.style.height);c>l&&(c=l),c<0&&(c=0),n.style.transform="translate3d("+-s+"px, "+-c+"px, 0px)",e.style.transform="translate3d("+s+"px, "+c+"px, 0px)"}}function s(){o=!1,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",s)}t.addEventListener("mousedown",(function(t){var n=t,p=e.style.transform.match(/[0-9\.-]+/g);o=!0,i.clientX=n.clientX,i.clientY=n.clientY,p&&(r.clientX=Number(p[1]),r.clientY=Number(p[2])),window.addEventListener("mousemove",a),window.addEventListener("mouseup",s)}))},t.selectArea=function(e,n,o,i,r,a){var s,p,c,l,d=!1;function h(t){var e=t;if(d){var a=c,s=l,h=e.pageX-p.left,m=e.pageY-p.top;m<0&&(s=l-(m=-m)),h<0&&(a=c-(h=-h));var u=parseFloat(o.style.width)-a,_=parseFloat(o.style.height)-s;if(h>u||m>_)return;if(a<0||s<0)return;o.style.transform="translate3d("+-a+"px, "+-s+"px, 0px)",n.style.transform="translate3d("+a+"px, "+s+"px, 0px)",n.style.height=m+"px",n.style.width=h+"px",i.innerHTML=""+Math.round(m),r.innerHTML=""+Math.round(h)}}function m(){d=!1,window.addEventListener("mousemove",h),window.addEventListener("mouseup",m)}o.addEventListener("load",(function(){s=b(n)})),e.addEventListener("mousedown",(function(e){var n=e,o={top:n.pageY,left:n.pageX};t.isInRange(s,o)&&(d=!0,p=o,c=o.left-s.left,l=o.top-s.top,window.addEventListener("mousemove",h),window.addEventListener("mouseup",m))}))},t.isInRange=function(t,e){return!(e.left<t.left)&&!(e.top<t.top)},t.lineAndPointTop=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,s=!1,p={clientX:0,clientY:0};function c(){s=!1,window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",l)}function l(t){if(s){var c=-(t.clientY-r),l=c+a,d=parseFloat(n.style.height),h=d-parseFloat(e.style.height),m=p.clientX,u=p.clientY-c;l>d-u&&(l=d-u),(u>=0&&u<=h&&l>=i||l<a&&l>=i)&&(n.style.transform="translate3d("+-m+"px, "+-u+"px, 0px)",e.style.transform="translate3d("+m+"px, "+u+"px, 0px)",e.style.height=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,r=t.clientY,n&&(p.clientX=Number(n[1]),p.clientY=Number(n[2])),a=parseFloat(e.style.height),window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)}))},t.lineAndPointBottom=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,s=!1,p={clientX:0,clientY:0};function c(){s=!1,window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",l)}function l(t){if(s){var c=-(t.clientY-r),l=a-c,d=parseFloat(n.style.height),h=p.clientY;l>d-h&&(l=d-h),d-h>=l&&l>=i&&(e.style.height=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,r=t.clientY,n&&(p.clientX=Number(n[1]),p.clientY=Number(n[2])),a=parseFloat(e.style.height),window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)}))},t.lineAndPointLeft=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,s=!1,p={clientX:0,clientY:0};function c(){s=!1,window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",l)}function l(t){if(s){var c=-(t.clientX-r),l=c+a,d=parseFloat(n.style.width),h=d-parseFloat(e.style.width),m=p.clientX-c,u=p.clientY;l>d-m&&(l=d-m),(m>=0&&m<=h&&l>=i||l<a&&l>=i)&&(n.style.transform="translate3d("+-m+"px, "+-u+"px, 0px)",e.style.transform="translate3d("+m+"px, "+u+"px, 0px)",e.style.width=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,r=t.clientX,n&&(p.clientX=Number(n[1]),p.clientY=Number(n[2])),a=parseFloat(e.style.width),window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)}))},t.lineAndPointRight=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,s=!1,p={clientX:0,clientY:0};function c(){s=!1,window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",l)}function l(t){if(s){var c=-(t.clientX-r),l=a-c,d=parseFloat(n.style.width),h=p.clientX;l>d-h&&(l=d-h),d-h>=l&&l>=i&&(e.style.width=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,r=t.clientX,n&&(p.clientX=Number(n[1]),p.clientY=Number(n[2])),a=parseFloat(e.style.width),window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)}))},t.pointLeftAndTop=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var s,p,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",_)}function _(t){var r=t;if(h){var u=void 0,_=void 0;u=-(r.clientY-s),_=-(r.clientX-p),_=Math.abs(u)>Math.abs(_)?u*d:(u=_/d)*d;var f=u+c,v=_+l,x=parseFloat(n.style.width),w=parseFloat(n.style.height),g=x-parseFloat(e.style.width),y=w-parseFloat(e.style.height),L=m.clientX-_,b=m.clientY-u;if(f>w-b)return;if(v>x-L)return;(b>=0&&b<=y&&f>=a&&L>=0&&L<=g&&v>=a||f<c&&f>=a&&v<l&&v>=a)&&(n.style.transform="translate3d("+-L+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+L+"px, "+b+"px, 0px)",e.style.height=f+"px",e.style.width=v+"px",i.innerHTML=""+Math.round(f),o.innerHTML=""+Math.round(v))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,p=t.clientX,s=t.clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("mouseup",u),window.addEventListener("mousemove",_)}))},t.pointRightAndTop=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var s,p,c,l,d=!1,h={clientX:0,clientY:0};function m(){d=!1,window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",u)}function u(t){if(d){var r=-(t.clientY-s),m=r+p,u=r*l+c,_=parseFloat(n.style.width),f=parseFloat(n.style.height),v=_-parseFloat(e.style.width),x=f-parseFloat(e.style.height),w=h.clientX,g=h.clientY-r;if(m>f-g)return;if(u>_-w)return;(g>=0&&g<=x&&m>=a&&w>=0&&w<=v&&u>=a||m<p&&m>=a&&u<c&&u>=a)&&(n.style.transform="translate3d("+-w+"px, "+-g+"px, 0px)",e.style.transform="translate3d("+w+"px, "+g+"px, 0px)",e.style.height=m+"px",e.style.width=u+"px",i.innerHTML=""+Math.round(m),o.innerHTML=""+Math.round(u))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);d=!0,s=t.clientY,n&&(h.clientX=Number(n[1]),h.clientY=Number(n[2])),p=parseFloat(e.style.height),c=parseFloat(e.style.width),l=r||c/p,window.addEventListener("mouseup",m),window.addEventListener("mousemove",u)}))},t.pointLeftAndBottom=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var s,p,c,l,d=!1,h={clientX:0,clientY:0};function m(){d=!1,window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",u)}function u(t){if(d){var r=t.clientY-s,m=r*l,u=r+p,_=m+c,f=parseFloat(n.style.width),v=parseFloat(n.style.height),x=f-parseFloat(e.style.width),w=v-parseFloat(e.style.height),g=h.clientX-m,y=h.clientY;if(u>v-y)return;if(_>f-g)return;(y>=0&&y<=w&&u>=a&&g>=0&&g<=x&&_>=a||u<p&&u>=a&&_<c&&_>=a)&&(n.style.transform="translate3d("+-g+"px, "+-y+"px, 0px)",e.style.transform="translate3d("+g+"px, "+y+"px, 0px)",e.style.height=u+"px",e.style.width=_+"px",i.innerHTML=""+Math.round(u),o.innerHTML=""+Math.round(_))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);d=!0,s=t.clientY,n&&(h.clientX=Number(n[1]),h.clientY=Number(n[2])),p=parseFloat(e.style.height),c=parseFloat(e.style.width),l=r||c/p,window.addEventListener("mouseup",m),window.addEventListener("mousemove",u)}))},t.pointRightAndBottom=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var s,p,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",_)}function _(t){var r=t;if(h){var u=void 0,_=void 0;_=r.clientY-p,u=r.clientX-s,u=Math.abs(_)>Math.abs(u)?_*d:(_=u/d)*d;var f=_+c,v=u+l,x=parseFloat(n.style.width),w=parseFloat(n.style.height),g=x-parseFloat(e.style.width),y=w-parseFloat(e.style.height),L=m.clientX,b=m.clientY;if(f>w-b)return;if(v>x-L)return;(b>=0&&b<=y&&f>=a&&L>=0&&L<=g&&v>=a||f<c&&f>=a&&v<l&&v>=a)&&(n.style.transform="translate3d("+-L+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+L+"px, "+b+"px, 0px)",e.style.height=f+"px",e.style.width=v+"px",i.innerHTML=""+Math.round(f),o.innerHTML=""+Math.round(v))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,s=t.clientX,p=t.clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("mouseup",u),window.addEventListener("mousemove",_)}))},t}(),T=function(){function t(){}return t.move=function(t,e,n){var o=!1,i={clientX:0,clientY:0},r={clientX:0,clientY:0};function a(t){var a=t;if(o){var s=a.touches[0].clientX-i.clientX+r.clientX,p=parseFloat(n.style.width)-parseFloat(e.style.width);s>p&&(s=p),s<0&&(s=0);var c=a.touches[0].clientY-i.clientY+r.clientY,l=parseFloat(n.style.height)-parseFloat(e.style.height);c>l&&(c=l),c<0&&(c=0),n.style.transform="translate3d("+-s+"px, "+-c+"px, 0px)",e.style.transform="translate3d("+s+"px, "+c+"px, 0px)"}}function s(){o=!1,window.removeEventListener("touchmove",a),window.removeEventListener("touchend",s)}t.addEventListener("touchstart",(function(t){var n=t,p=e.style.transform.match(/[0-9\.-]+/g);o=!0,i.clientX=n.touches[0].clientX,i.clientY=n.touches[0].clientY,p&&(r.clientX=Number(p[1]),r.clientY=Number(p[2])),window.addEventListener("touchmove",a),window.addEventListener("touchend",s)}),{passive:!0})},t.selectArea=function(e,n,o,i,r,a){var s,p,c,l,d=!1;function h(t){var e=t;if(d){var a=c,s=l,h=e.touches[0].pageX-p.left,m=e.touches[0].pageY-p.top;m<0&&(s=l-(m=-m)),h<0&&(a=c-(h=-h));var u=parseFloat(o.style.width)-a,_=parseFloat(o.style.height)-s;if(h>u||m>_)return;if(a<0||s<0)return;o.style.transform="translate3d("+-a+"px, "+-s+"px, 0px)",n.style.transform="translate3d("+a+"px, "+s+"px, 0px)",n.style.height=m+"px",n.style.width=h+"px",i.innerHTML=""+Math.round(m),r.innerHTML=""+Math.round(h)}}function m(){d=!1,window.addEventListener("touchmove",h),window.addEventListener("touchend",m)}o.addEventListener("load",(function(){s=b(n)})),e.addEventListener("touchstart",(function(e){var n=e,o={top:n.touches[0].pageY,left:n.touches[0].pageX};t.isInRange(s,o)&&(d=!0,p=o,c=o.left-s.left,l=o.top-s.top,window.addEventListener("touchmove",h),window.addEventListener("touchend",m))}),{passive:!0})},t.isInRange=function(t,e){return!(e.left<t.left)&&!(e.top<t.top)},t.lineAndPointTop=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,s=!1,p={clientX:0,clientY:0};function c(){s=!1,window.removeEventListener("touchend",c),window.removeEventListener("touchmove",l)}function l(t){if(s){var c=-(t.touches[0].clientY-r),l=c+a,d=parseFloat(n.style.height),h=d-parseFloat(e.style.height),m=p.clientX,u=p.clientY-c;l>d-u&&(l=d-u),(u>=0&&u<=h&&l>=i||l<a&&l>=i)&&(n.style.transform="translate3d("+-m+"px, "+-u+"px, 0px)",e.style.transform="translate3d("+m+"px, "+u+"px, 0px)",e.style.height=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,r=t.touches[0].clientY,n&&(p.clientX=Number(n[1]),p.clientY=Number(n[2])),a=parseFloat(e.style.height),window.addEventListener("touchend",c),window.addEventListener("touchmove",l)}),{passive:!0})},t.lineAndPointBottom=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,s=!1,p={clientX:0,clientY:0};function c(){s=!1,window.removeEventListener("touchend",c),window.removeEventListener("touchmove",l)}function l(t){if(s){var c=-(t.touches[0].clientY-r),l=a-c,d=parseFloat(n.style.height),h=p.clientY;l>d-h&&(l=d-h),d-h>=l&&l>=i&&(e.style.height=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,r=t.touches[0].clientY,n&&(p.clientX=Number(n[1]),p.clientY=Number(n[2])),a=parseFloat(e.style.height),window.addEventListener("touchend",c),window.addEventListener("touchmove",l)}),{passive:!0})},t.lineAndPointLeft=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,s=!1,p={clientX:0,clientY:0};function c(){s=!1,window.removeEventListener("touchend",c),window.removeEventListener("touchmove",l)}function l(t){if(s){var c=-(t.touches[0].clientX-r),l=c+a,d=parseFloat(n.style.width),h=d-parseFloat(e.style.width),m=p.clientX-c,u=p.clientY;l>d-m&&(l=d-m),(m>=0&&m<=h&&l>=i||l<a&&l>=i)&&(n.style.transform="translate3d("+-m+"px, "+-u+"px, 0px)",e.style.transform="translate3d("+m+"px, "+u+"px, 0px)",e.style.width=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,r=t.touches[0].clientX,n&&(p.clientX=Number(n[1]),p.clientY=Number(n[2])),a=parseFloat(e.style.width),window.addEventListener("touchend",c),window.addEventListener("touchmove",l)}),{passive:!0})},t.lineAndPointRight=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,s=!1,p={clientX:0,clientY:0};function c(){s=!1,window.removeEventListener("touchend",c),window.removeEventListener("touchmove",l)}function l(t){if(s){var c=-(t.touches[0].clientX-r),l=a-c,d=parseFloat(n.style.width),h=p.clientX;l>d-h&&(l=d-h),d-h>=l&&l>=i&&(e.style.width=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,r=t.touches[0].clientX,n&&(p.clientX=Number(n[1]),p.clientY=Number(n[2])),a=parseFloat(e.style.width),window.addEventListener("touchend",c),window.addEventListener("touchmove",l)}),{passive:!0})},t.pointLeftAndTop=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var s,p,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("touchend",u),window.removeEventListener("touchmove",_)}function _(t){var r=t;if(h){var u=void 0,_=void 0;u=-(r.touches[0].clientY-s),_=-(r.touches[0].clientX-p),_=Math.abs(u)>Math.abs(_)?u*d:(u=_/d)*d;var f=u+c,v=_+l,x=parseFloat(n.style.width),w=parseFloat(n.style.height),g=x-parseFloat(e.style.width),y=w-parseFloat(e.style.height),L=m.clientX-_,b=m.clientY-u;if(f>w-b)return;if(v>x-L)return;(b>=0&&b<=y&&f>=a&&L>=0&&L<=g&&v>=a||f<c&&f>=a&&v<l&&v>=a)&&(n.style.transform="translate3d("+-L+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+L+"px, "+b+"px, 0px)",e.style.height=f+"px",e.style.width=v+"px",i.innerHTML=""+Math.round(f),o.innerHTML=""+Math.round(v))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,p=t.touches[0].clientX,s=t.touches[0].clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("touchend",u),window.addEventListener("touchmove",_)}),{passive:!0})},t.pointRightAndTop=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var s,p,c,l,d=!1,h={clientX:0,clientY:0};function m(){d=!1,window.removeEventListener("touchend",m),window.removeEventListener("touchmove",u)}function u(t){if(d){var r=-(t.touches[0].clientY-s),m=r+p,u=r*l+c,_=parseFloat(n.style.width),f=parseFloat(n.style.height),v=_-parseFloat(e.style.width),x=f-parseFloat(e.style.height),w=h.clientX,g=h.clientY-r;if(m>f-g)return;if(u>_-w)return;(g>=0&&g<=x&&m>=a&&w>=0&&w<=v&&u>=a||m<p&&m>=a&&u<c&&u>=a)&&(n.style.transform="translate3d("+-w+"px, "+-g+"px, 0px)",e.style.transform="translate3d("+w+"px, "+g+"px, 0px)",e.style.height=m+"px",e.style.width=u+"px",i.innerHTML=""+Math.round(m),o.innerHTML=""+Math.round(u))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);d=!0,s=t.touches[0].clientY,n&&(h.clientX=Number(n[1]),h.clientY=Number(n[2])),p=parseFloat(e.style.height),c=parseFloat(e.style.width),l=r||c/p,window.addEventListener("touchend",m),window.addEventListener("touchmove",u)}),{passive:!0})},t.pointLeftAndBottom=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var s,p,c,l,d=!1,h={clientX:0,clientY:0};function m(){d=!1,window.removeEventListener("touchend",m),window.removeEventListener("touchmove",u)}function u(t){if(d){var r=t.touches[0].clientY-s,m=r*l,u=r+p,_=m+c,f=parseFloat(n.style.width),v=parseFloat(n.style.height),x=f-parseFloat(e.style.width),w=v-parseFloat(e.style.height),g=h.clientX-m,y=h.clientY;if(u>v-y)return;if(_>f-g)return;(y>=0&&y<=w&&u>=a&&g>=0&&g<=x&&_>=a||u<p&&u>=a&&_<c&&_>=a)&&(n.style.transform="translate3d("+-g+"px, "+-y+"px, 0px)",e.style.transform="translate3d("+g+"px, "+y+"px, 0px)",e.style.height=u+"px",e.style.width=_+"px",i.innerHTML=""+Math.round(u),o.innerHTML=""+Math.round(_))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);d=!0,s=t.touches[0].clientY,n&&(h.clientX=Number(n[1]),h.clientY=Number(n[2])),p=parseFloat(e.style.height),c=parseFloat(e.style.width),l=r||c/p,window.addEventListener("touchend",m),window.addEventListener("touchmove",u)}),{passive:!0})},t.pointRightAndBottom=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var s,p,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("touchend",u),window.removeEventListener("touchmove",_)}function _(t){var r=t;if(h){var u=void 0,_=void 0;_=r.touches[0].clientY-p,u=r.touches[0].clientX-s,u=Math.abs(_)>Math.abs(u)?_*d:(_=u/d)*d;var f=_+c,v=u+l,x=parseFloat(n.style.width),w=parseFloat(n.style.height),g=x-parseFloat(e.style.width),y=w-parseFloat(e.style.height),L=m.clientX,b=m.clientY;if(f>w-b)return;if(v>x-L)return;(b>=0&&b<=y&&f>=a&&L>=0&&L<=g&&v>=a||f<c&&f>=a&&v<l&&v>=a)&&(n.style.transform="translate3d("+-L+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+L+"px, "+b+"px, 0px)",e.style.height=f+"px",e.style.width=v+"px",i.innerHTML=""+Math.round(f),o.innerHTML=""+Math.round(v))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,s=t.touches[0].clientX,p=t.touches[0].clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("touchend",u),window.addEventListener("touchmove",_)}),{passive:!0})},t}(),A=function(){function t(){}return t.clear=function(t,e,n){t.style.height="0px",t.style.width="0px",t.style.transform="translate3d(0px, 0px, 0px)",e.innerHTML="0",n.innerHTML="0"},t.selectAll=function(t,e,n,o){var i=Math.round(parseFloat(o.style.width)),r=Math.round(parseFloat(o.style.height));t.style.height=r+"px",t.style.width=i+"px",t.style.transform="translate3d(0px, 0px, 0px)",o.style.transform="translate3d(0px, 0px, 0px)",e.innerHTML=""+r,n.innerHTML=""+i},t}();function I(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}I('a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}');I(".main__crop-main__2Xu2i{position:relative;height:400px;width:500px;overflow:hidden;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.main__crop-main__2Xu2i .main__crop-bottom-box__12vLt{position:absolute;background:#000;height:100%;width:100%}.main__crop-main__2Xu2i .main__crop-bottom-box__12vLt img{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.main__crop-main__2Xu2i .main__crop-mask__M2Lxd{position:absolute;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,.5)}.main__crop-main__2Xu2i .main__crop-box__3wkxc{position:absolute;top:50px}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-img__2qWsz{overflow:hidden;height:100%}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-move__1aJO-{position:absolute;top:0;left:0;width:100%;height:100%;cursor:move}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-info__1ILcD{position:absolute;left:0;top:-21px;cursor:default;min-width:65px;text-align:center;color:#fff;line-height:20px;background-color:rgba(0,0,0,.8);font-size:12px}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line__1-vEG{position:absolute;display:block;width:100%;height:100%;opacity:.1}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-top__2gG5M{top:-3px;left:0;height:5px;cursor:n-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-right__176v6{top:0;right:-3px;width:5px;cursor:e-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-bottom__3Ca1o{bottom:-3px;left:0;height:5px;cursor:s-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-left__2jeu5{top:0;left:-3px;width:5px;cursor:w-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point__15KQj{position:absolute;width:8px;height:8px;opacity:.75;background-color:#39f;border-radius:100%}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point1__2PZiE{top:-4px;left:-4px;cursor:nw-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point2__KsQWe{top:-5px;left:50%;margin-left:-3px;cursor:n-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point3__3c0so{top:-4px;right:-4px;cursor:ne-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point4__3c9hU{top:50%;left:-4px;margin-top:-3px;cursor:w-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point5__3L_Nc{top:50%;right:-4px;margin-top:-3px;cursor:e-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point6__3CWwi{bottom:-5px;left:-4px;cursor:sw-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point7__1Ymsl{bottom:-5px;left:50%;margin-left:-3px;cursor:s-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point8__3-RHx{bottom:-5px;right:-4px;cursor:se-resize;z-index:10}");var H=function(){function t(t,e,n,o,i,r,a,s,p,c,l){var d=this;if(void 0===l&&(l=20),this.resultWidth=n,this.resultHeight=o,this.fileType=p,this.fileName=c,this.cropMain=new F((function(t,e){s&&(e=s),a&&(t=a),d.bindEvent(l,i,r,t/e)}),a,s),e instanceof File){p||(this.fileType=e.type),c||(this.fileName=e.name);var h=new FileReader;h.readAsDataURL(e),h.onload=function(e){e.target&&e.target.result&&(d.cropMain.cropBottomBox.img.src=e.target.result,d.cropMain.cropBox.cropBoxImgObj.img.src=e.target.result,d.cropMain.cropBottomBox.cropBottomBoxMain.style.height="",t.append(d.cropMain.cropMainMain))}}else this.cropMain.cropBottomBox.img.src=e,this.cropMain.cropBox.cropBoxImgObj.img.src=e,this.cropMain.cropBottomBox.cropBottomBoxMain.style.height="",t.append(this.cropMain.cropMainMain)}return t.prototype.bindEvent=function(t,e,n,o){var i=this.cropMain.cropBox.cropBoxMain,r=this.cropMain.cropBox.cropBoxImgObj.img,a=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,s=this.cropMain.cropBox.cropBoxInfoObj.infoWidth,p=this.cropMain.cropBox.cropBoxPointLineWrapperObj;P.move(this.cropMain.cropBox.cropBoxMove,i,r),P.pointLeftAndTop(p.cropPoint1,i,r,s,a,o,t),P.pointRightAndTop(p.cropPoint3,i,r,s,a,o,t),P.pointLeftAndBottom(p.cropPoint6,i,r,s,a,o,t),P.pointRightAndBottom(p.cropPoint8,i,r,s,a,o,t),T.move(this.cropMain.cropBox.cropBoxMove,i,r),T.pointLeftAndTop(p.cropPoint1,i,r,s,a,o,t),T.pointRightAndTop(p.cropPoint3,i,r,s,a,o,t),T.pointLeftAndBottom(p.cropPoint6,i,r,s,a,o,t),T.pointRightAndBottom(p.cropPoint8,i,r,s,a,o,t),e?(P.selectArea(this.cropMain.cropMask,i,r,s,a,o),P.lineAndPointTop(p.cropLineTop,i,r,a,t),P.lineAndPointTop(p.cropPoint2,i,r,a,t),P.lineAndPointBottom(p.cropLineBottom,i,r,a,t),P.lineAndPointBottom(p.cropPoint7,i,r,a,t),P.lineAndPointLeft(p.cropLineLeft,i,r,s,t),P.lineAndPointLeft(p.cropPoint4,i,r,s,t),P.lineAndPointRight(p.cropLineRight,i,r,s,t),P.lineAndPointRight(p.cropPoint5,i,r,s,t)):(P.pointLeftAndTop(p.cropLineLeft,i,r,s,a,o,t),P.pointLeftAndTop(p.cropPoint4,i,r,s,a,o,t),P.pointRightAndTop(p.cropLineTop,i,r,s,a,o,t),P.pointRightAndTop(p.cropPoint2,i,r,s,a,o,t),P.pointLeftAndBottom(p.cropLineBottom,i,r,s,a,o,t),P.pointLeftAndBottom(p.cropPoint7,i,r,s,a,o,t),P.pointRightAndBottom(p.cropLineRight,i,r,s,a,o,t),P.pointRightAndBottom(p.cropPoint5,i,r,s,a,o,t)),n?(T.selectArea(this.cropMain.cropMask,i,r,s,a,o),T.lineAndPointTop(p.cropLineTop,i,r,a,t),T.lineAndPointTop(p.cropPoint2,i,r,a,t),T.lineAndPointBottom(p.cropLineBottom,i,r,a,t),T.lineAndPointBottom(p.cropPoint7,i,r,a,t),T.lineAndPointLeft(p.cropLineLeft,i,r,s,t),T.lineAndPointLeft(p.cropPoint4,i,r,s,t),T.lineAndPointRight(p.cropLineRight,i,r,s,t),T.lineAndPointRight(p.cropPoint5,i,r,s,t)):(T.pointLeftAndTop(p.cropLineLeft,i,r,s,a,o,t),T.pointLeftAndTop(p.cropPoint4,i,r,s,a,o,t),T.pointRightAndTop(p.cropLineTop,i,r,s,a,o,t),T.pointRightAndTop(p.cropPoint2,i,r,s,a,o,t),T.pointLeftAndBottom(p.cropLineBottom,i,r,s,a,o,t),T.pointLeftAndBottom(p.cropPoint7,i,r,s,a,o,t),T.pointRightAndBottom(p.cropLineRight,i,r,s,a,o,t),T.pointRightAndBottom(p.cropPoint5,i,r,s,a,o,t))},t.prototype.download=function(){if(!this.blobUrl)return console.error(new Error("It must be parsed through getResult before download")),this;var t=document.createElement("a");t.download=this.fileName||(new Date).getTime().toString(),t.href=this.blobUrl,t.click()},t.prototype.getResult=function(t,e){var n=this,o=this.cropMain.cropBox.cropBoxMain,i=this.cropMain.getProportion(),r=this.cropMain.cropBox.cropBoxImgObj.img,a=document.createElement("canvas"),s=a.getContext("2d");if(s){a.width=this.resultWidth,a.height=this.resultHeight,s.clearRect(0,0,this.resultWidth,this.resultHeight);var p=parseFloat(o.style.width)/i,c=parseFloat(o.style.height)/i,l=o.style.transform.match(/[0-9\.-]+/g);if(l){var d=Number(l[1])/i,h=Number(l[2])/i;s.drawImage(r,d,h,p,c,0,0,this.resultWidth,this.resultHeight),a.toBlob((function(o){o&&(t&&t(o),n.blobUrl=window.URL.createObjectURL(o),e&&n.download())}),this.fileType||"image/jpeg")}}return this},t.prototype.destroy=function(){this.cropMain.cropMainMain.remove()},t.prototype.clear=function(){var t=this.cropMain.cropBox.cropBoxMain,e=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,n=this.cropMain.cropBox.cropBoxInfoObj.infoWidth;return A.clear(t,e,n),this},t.prototype.selectAll=function(){var t=this.cropMain.cropBox.cropBoxMain,e=this.cropMain.cropBox.cropBoxImgObj.img,n=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,o=this.cropMain.cropBox.cropBoxInfoObj.infoWidth;return A.selectAll(t,n,o,e),this},t}();return function(t,e,n,o,i,r,a,s,p,c,l){return void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===l&&(l=20),new H(t,e,n,o,i,r,a,s,p,c,l)}}));
//# sourceMappingURL=lcl-image-cropper.min.js.map
