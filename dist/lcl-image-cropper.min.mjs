var t="main__crop-main__2Xu2i",e="main__crop-bottom-box__12vLt",n="main__crop-mask__M2Lxd",o="main__crop-box__3wkxc",i="main__crop-box-img__2qWsz",r="main__crop-box-move__1aJO-",a="main__crop-box-info__1ILcD",p="main__crop-box-point-line-wrapper__289IK",s="main__crop-line__1-vEG",c="main__crop-line-top__2gG5M",l="main__crop-line-right__176v6",d="main__crop-line-bottom__3Ca1o",h="main__crop-line-left__2jeu5",m="main__crop-point__15KQj",u="main__crop-point1__2PZiE",_="main__crop-point2__KsQWe",v="main__crop-point3__3c0so",x="main__crop-point4__3c9hU",f="main__crop-point5__3L_Nc",w="main__crop-point6__3CWwi",L="main__crop-point7__1Ymsl",g="main__crop-point8__3-RHx",y=function(t,e){var n=document.createElement(t);if(e)for(var o=0,i=e;o<i.length;o++){var r=i[o];n.classList.add(r)}return n},M=function(t){for(var e=0,n=0;t;)e+=t.offsetTop,n+=t.offsetLeft,t=t.parentElement;return{top:e,left:n}},b=function(){this.cropBottomBoxMain=y("div",[e]),this.img=y("img"),this.cropBottomBoxMain.append(this.img)},B=function(){this.cropLineTop=y("span",[s,c]),this.cropLineRight=y("span",[s,l]),this.cropLineBottom=y("span",[s,d]),this.cropLineLeft=y("span",[s,h]),this.cropPoint1=y("span",[m,u]),this.cropPoint2=y("span",[m,_]),this.cropPoint3=y("span",[m,v]),this.cropPoint4=y("span",[m,x]),this.cropPoint5=y("span",[m,f]),this.cropPoint6=y("span",[m,w]),this.cropPoint7=y("span",[m,L]),this.cropPoint8=y("span",[m,g]),this.cropBoxPointLineWrapperMain=y("div",[p]),this.cropBoxPointLineWrapperMain.append(this.cropLineTop,this.cropLineRight,this.cropLineBottom,this.cropLineLeft,this.cropPoint1,this.cropPoint2,this.cropPoint3,this.cropPoint4,this.cropPoint5,this.cropPoint6,this.cropPoint7,this.cropPoint8)},E=function(){this.cropBoxImgMain=y("div",[i]),this.img=y("img"),this.cropBoxImgMain.append(this.img)},X=function(){this.cropBoxInfoMain=y("div",[a]),this.infoWidth=y("span"),this.infoHeight=y("span"),this.cropBoxInfoMain.append(this.infoWidth,document.createTextNode(" x "),this.infoHeight)},T=function(){this.cropBoxMain=y("div",[o]),this.cropBoxImgObj=new E,this.cropBoxMove=y("div",[r]),this.cropBoxInfoObj=new X,this.cropBoxPointLineWrapperObj=new B,this.cropBoxMain.append(this.cropBoxImgObj.cropBoxImgMain,this.cropBoxMove,this.cropBoxInfoObj.cropBoxInfoMain,this.cropBoxPointLineWrapperObj.cropBoxPointLineWrapperMain)},Y=function(){function e(e,o,i){var r=this;this.cropMainMain=y("div",[t]),this.cropBottomBox=new b,this.cropMask=y("div",[n]),this.cropBox=new T,this.cropMainMain.append(this.cropBottomBox.cropBottomBoxMain,this.cropMask,this.cropBox.cropBoxMain),this.cropBottomBox.img.addEventListener("load",(function(t){var n=r.cropBox.cropBoxMain,a=r.cropBox.cropBoxImgObj.img,p=r.cropBottomBox.img,s=r.cropBox.cropBoxInfoObj.infoWidth,c=r.cropBox.cropBoxInfoObj.infoHeight,l=t.target,d=l.height,h=l.height/300,m=l.width/h;n.style.left=Math.floor((500-m)/2)+"px",n.style.width=(o||Math.floor(m/2))+"px",n.style.height=(i||150)+"px",n.style.transform="translate3d(0px, 0px, 0px)",screen.width<500&&(r.cropMainMain.style.width=screen.width+"px",n.style.left=Math.floor((screen.width-m)/2)+"px"),a.style.width=m+"px",a.style.height="300px",a.style.transform="translate3d(0px, 0px, 0px)",p.style.height="300px",r.proportion=l.height/d,e(l.width,l.height),c.innerHTML=""+Math.round((i||150)/r.proportion),s.innerHTML=""+Math.round((o||Math.floor(m/2))/r.proportion)}))}return e.prototype.getProportion=function(){return this.proportion?this.proportion:0},e}(),F=function(){function t(){}return t.move=function(t,e,n){var o=!1,i={clientX:0,clientY:0},r={clientX:0,clientY:0};function a(t){var a=t;if(o){var p=a.clientX-i.clientX+r.clientX,s=parseFloat(n.style.width)-parseFloat(e.style.width);p>s&&(p=s),p<0&&(p=0);var c=a.clientY-i.clientY+r.clientY,l=parseFloat(n.style.height)-parseFloat(e.style.height);c>l&&(c=l),c<0&&(c=0),n.style.transform="translate3d("+-p+"px, "+-c+"px, 0px)",e.style.transform="translate3d("+p+"px, "+c+"px, 0px)"}}function p(){o=!1,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",p)}t.addEventListener("mousedown",(function(t){var n=t,s=e.style.transform.match(/[0-9\.-]+/g);o=!0,i.clientX=n.clientX,i.clientY=n.clientY,s&&(r.clientX=Number(s[1]),r.clientY=Number(s[2])),window.addEventListener("mousemove",a),window.addEventListener("mouseup",p)}))},t.selectArea=function(e,n,o,i,r,a,p){var s,c,l,d,h=!1;function m(t){var e=t;if(h){var a=l,s=d,m=e.pageX-c.left,u=e.pageY-c.top;u<0&&(s=d-(u=-u)),m<0&&(a=l-(m=-m));var _=parseFloat(o.style.width)-a,v=parseFloat(o.style.height)-s;if(m>_||u>v)return;if(a<0||s<0)return;o.style.transform="translate3d("+-a+"px, "+-s+"px, 0px)",n.style.transform="translate3d("+a+"px, "+s+"px, 0px)",n.style.height=u+"px",n.style.width=m+"px",p?(i.innerHTML=""+Math.round(u/p),r.innerHTML=""+Math.round(m/p)):(i.innerHTML=""+Math.round(u),r.innerHTML=""+Math.round(m))}}function u(){h=!1,window.addEventListener("mousemove",m),window.addEventListener("mouseup",u)}o.addEventListener("load",(function(){s=M(n)})),e.addEventListener("mousedown",(function(e){var n=e,o={top:n.pageY,left:n.pageX};t.isInRange(s,o)&&(h=!0,c=o,l=o.left-s.left,d=o.top-s.top,window.addEventListener("mousemove",m),window.addEventListener("mouseup",u))}))},t.isInRange=function(t,e){return!(e.left<t.left)&&!(e.top<t.top)},t.lineAndPointTop=function(t,e,n,o,i,r){void 0===i&&(i=20);var a,p,s=!1,c={clientX:0,clientY:0};function l(){s=!1,window.removeEventListener("mouseup",l),window.removeEventListener("mousemove",d)}function d(t){if(s){var l=-(t.clientY-a),d=l+p,h=parseFloat(n.style.height),m=h-parseFloat(e.style.height),u=c.clientX,_=c.clientY-l;d>h-_&&(d=h-_),(_>=0&&_<=m&&d>=i||d<p&&d>=i)&&(n.style.transform="translate3d("+-u+"px, "+-_+"px, 0px)",e.style.transform="translate3d("+u+"px, "+_+"px, 0px)",e.style.height=d+"px",o.innerHTML=r?""+Math.round(d/r):""+Math.round(d))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,a=t.clientY,n&&(c.clientX=Number(n[1]),c.clientY=Number(n[2])),p=parseFloat(e.style.height),window.addEventListener("mouseup",l),window.addEventListener("mousemove",d)}))},t.lineAndPointBottom=function(t,e,n,o,i,r){void 0===i&&(i=20);var a,p,s=!1,c={clientX:0,clientY:0};function l(){s=!1,window.removeEventListener("mouseup",l),window.removeEventListener("mousemove",d)}function d(t){if(s){var l=-(t.clientY-a),d=p-l,h=parseFloat(n.style.height),m=c.clientY;d>h-m&&(d=h-m),h-m>=d&&d>=i&&(e.style.height=d+"px",o.innerHTML=r?""+Math.round(d/r):""+Math.round(d))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,a=t.clientY,n&&(c.clientX=Number(n[1]),c.clientY=Number(n[2])),p=parseFloat(e.style.height),window.addEventListener("mouseup",l),window.addEventListener("mousemove",d)}))},t.lineAndPointLeft=function(t,e,n,o,i,r){void 0===i&&(i=20);var a,p,s=!1,c={clientX:0,clientY:0};function l(){s=!1,window.removeEventListener("mouseup",l),window.removeEventListener("mousemove",d)}function d(t){if(s){var l=-(t.clientX-a),d=l+p,h=parseFloat(n.style.width),m=h-parseFloat(e.style.width),u=c.clientX-l,_=c.clientY;d>h-u&&(d=h-u),(u>=0&&u<=m&&d>=i||d<p&&d>=i)&&(n.style.transform="translate3d("+-u+"px, "+-_+"px, 0px)",e.style.transform="translate3d("+u+"px, "+_+"px, 0px)",e.style.width=d+"px",o.innerHTML=r?""+Math.round(d/r):""+Math.round(d))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,a=t.clientX,n&&(c.clientX=Number(n[1]),c.clientY=Number(n[2])),p=parseFloat(e.style.width),window.addEventListener("mouseup",l),window.addEventListener("mousemove",d)}))},t.lineAndPointRight=function(t,e,n,o,i,r){void 0===i&&(i=20);var a,p,s=!1,c={clientX:0,clientY:0};function l(){s=!1,window.removeEventListener("mouseup",l),window.removeEventListener("mousemove",d)}function d(t){if(s){var l=-(t.clientX-a),d=p-l,h=parseFloat(n.style.width),m=c.clientX;d>h-m&&(d=h-m),h-m>=d&&d>=i&&(e.style.width=d+"px",o.innerHTML=r?""+Math.round(d/r):""+Math.round(d))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,a=t.clientX,n&&(c.clientX=Number(n[1]),c.clientY=Number(n[2])),p=parseFloat(e.style.width),window.addEventListener("mouseup",l),window.addEventListener("mousemove",d)}))},t.pointLeftAndTop=function(t,e,n,o,i,r,a,p){void 0===a&&(a=20);var s,c,l,d,h,m=!1,u={clientX:0,clientY:0};function _(){m=!1,window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",v)}function v(t){var r=t;if(m){var _=void 0,v=void 0;_=-(r.clientY-s),v=-(r.clientX-c),v=Math.abs(_)>Math.abs(v)?_*h:(_=v/h)*h;var x=_+l,f=v+d,w=parseFloat(n.style.width),L=parseFloat(n.style.height),g=w-parseFloat(e.style.width),y=L-parseFloat(e.style.height),M=u.clientX-v,b=u.clientY-_;if(x>L-b)return;if(f>w-M)return;(b>=0&&b<=y&&x>=a&&M>=0&&M<=g&&f>=a||x<l&&x>=a&&f<d&&f>=a)&&(n.style.transform="translate3d("+-M+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+M+"px, "+b+"px, 0px)",e.style.height=x+"px",e.style.width=f+"px",p?(i.innerHTML=""+Math.round(x/p),o.innerHTML=""+Math.round(f/p)):(i.innerHTML=""+Math.round(x),o.innerHTML=""+Math.round(f)))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);m=!0,c=t.clientX,s=t.clientY,n&&(u.clientX=Number(n[1]),u.clientY=Number(n[2])),l=parseFloat(e.style.height),d=parseFloat(e.style.width),h=r||d/l,window.addEventListener("mouseup",_),window.addEventListener("mousemove",v)}))},t.pointRightAndTop=function(t,e,n,o,i,r,a,p){void 0===a&&(a=20);var s,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",_)}function _(t){if(h){var r=-(t.clientY-s),u=r+c,_=r*d+l,v=parseFloat(n.style.width),x=parseFloat(n.style.height),f=v-parseFloat(e.style.width),w=x-parseFloat(e.style.height),L=m.clientX,g=m.clientY-r;if(u>x-g)return;if(_>v-L)return;(g>=0&&g<=w&&u>=a&&L>=0&&L<=f&&_>=a||u<c&&u>=a&&_<l&&_>=a)&&(n.style.transform="translate3d("+-L+"px, "+-g+"px, 0px)",e.style.transform="translate3d("+L+"px, "+g+"px, 0px)",e.style.height=u+"px",e.style.width=_+"px",p?(i.innerHTML=""+Math.round(u/p),o.innerHTML=""+Math.round(_/p)):(i.innerHTML=""+Math.round(u),o.innerHTML=""+Math.round(_)))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,s=t.clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("mouseup",u),window.addEventListener("mousemove",_)}))},t.pointLeftAndBottom=function(t,e,n,o,i,r,a,p){void 0===a&&(a=20);var s,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",_)}function _(t){if(h){var r=t.clientY-s,u=r*d,_=r+c,v=u+l,x=parseFloat(n.style.width),f=parseFloat(n.style.height),w=x-parseFloat(e.style.width),L=f-parseFloat(e.style.height),g=m.clientX-u,y=m.clientY;if(_>f-y)return;if(v>x-g)return;(y>=0&&y<=L&&_>=a&&g>=0&&g<=w&&v>=a||_<c&&_>=a&&v<l&&v>=a)&&(n.style.transform="translate3d("+-g+"px, "+-y+"px, 0px)",e.style.transform="translate3d("+g+"px, "+y+"px, 0px)",e.style.height=_+"px",e.style.width=v+"px",p?(i.innerHTML=""+Math.round(_/p),o.innerHTML=""+Math.round(v/p)):(i.innerHTML=""+Math.round(_),o.innerHTML=""+Math.round(v)))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,s=t.clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("mouseup",u),window.addEventListener("mousemove",_)}))},t.pointRightAndBottom=function(t,e,n,o,i,r,a,p){void 0===a&&(a=20);var s,c,l,d,h,m=!1,u={clientX:0,clientY:0};function _(){m=!1,window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",v)}function v(t){var r=t;if(m){var _=void 0,v=void 0;v=r.clientY-c,_=r.clientX-s,_=Math.abs(v)>Math.abs(_)?v*h:(v=_/h)*h;var x=v+l,f=_+d,w=parseFloat(n.style.width),L=parseFloat(n.style.height),g=w-parseFloat(e.style.width),y=L-parseFloat(e.style.height),M=u.clientX,b=u.clientY;if(x>L-b)return;if(f>w-M)return;(b>=0&&b<=y&&x>=a&&M>=0&&M<=g&&f>=a||x<l&&x>=a&&f<d&&f>=a)&&(n.style.transform="translate3d("+-M+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+M+"px, "+b+"px, 0px)",e.style.height=x+"px",e.style.width=f+"px",p?(i.innerHTML=""+Math.round(x/p),o.innerHTML=""+Math.round(f/p)):(i.innerHTML=""+Math.round(x),o.innerHTML=""+Math.round(f)))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);m=!0,s=t.clientX,c=t.clientY,n&&(u.clientX=Number(n[1]),u.clientY=Number(n[2])),l=parseFloat(e.style.height),d=parseFloat(e.style.width),h=r||d/l,window.addEventListener("mouseup",_),window.addEventListener("mousemove",v)}))},t}(),P=function(){function t(){}return t.move=function(t,e,n){var o=!1,i={clientX:0,clientY:0},r={clientX:0,clientY:0};function a(t){var a=t;if(o){var p=a.touches[0].clientX-i.clientX+r.clientX,s=parseFloat(n.style.width)-parseFloat(e.style.width);p>s&&(p=s),p<0&&(p=0);var c=a.touches[0].clientY-i.clientY+r.clientY,l=parseFloat(n.style.height)-parseFloat(e.style.height);c>l&&(c=l),c<0&&(c=0),n.style.transform="translate3d("+-p+"px, "+-c+"px, 0px)",e.style.transform="translate3d("+p+"px, "+c+"px, 0px)"}}function p(){o=!1,window.removeEventListener("touchmove",a),window.removeEventListener("touchend",p)}t.addEventListener("touchstart",(function(t){var n=t,s=e.style.transform.match(/[0-9\.-]+/g);o=!0,i.clientX=n.touches[0].clientX,i.clientY=n.touches[0].clientY,s&&(r.clientX=Number(s[1]),r.clientY=Number(s[2])),window.addEventListener("touchmove",a),window.addEventListener("touchend",p)}),{passive:!0})},t.selectArea=function(e,n,o,i,r,a){var p,s,c,l,d=!1;function h(t){var e=t;if(d){var a=c,p=l,h=e.touches[0].pageX-s.left,m=e.touches[0].pageY-s.top;m<0&&(p=l-(m=-m)),h<0&&(a=c-(h=-h));var u=parseFloat(o.style.width)-a,_=parseFloat(o.style.height)-p;if(h>u||m>_)return;if(a<0||p<0)return;o.style.transform="translate3d("+-a+"px, "+-p+"px, 0px)",n.style.transform="translate3d("+a+"px, "+p+"px, 0px)",n.style.height=m+"px",n.style.width=h+"px",i.innerHTML=""+Math.round(m),r.innerHTML=""+Math.round(h)}}function m(){d=!1,window.addEventListener("touchmove",h),window.addEventListener("touchend",m)}o.addEventListener("load",(function(){p=M(n)})),e.addEventListener("touchstart",(function(e){var n=e,o={top:n.touches[0].pageY,left:n.touches[0].pageX};t.isInRange(p,o)&&(d=!0,s=o,c=o.left-p.left,l=o.top-p.top,window.addEventListener("touchmove",h),window.addEventListener("touchend",m))}),{passive:!0})},t.isInRange=function(t,e){return!(e.left<t.left)&&!(e.top<t.top)},t.lineAndPointTop=function(t,e,n,o,i,r){void 0===i&&(i=20);var a,p,s=!1,c={clientX:0,clientY:0};function l(){s=!1,window.removeEventListener("touchend",l),window.removeEventListener("touchmove",d)}function d(t){if(s){var l=-(t.touches[0].clientY-a),d=l+p,h=parseFloat(n.style.height),m=h-parseFloat(e.style.height),u=c.clientX,_=c.clientY-l;d>h-_&&(d=h-_),(_>=0&&_<=m&&d>=i||d<p&&d>=i)&&(n.style.transform="translate3d("+-u+"px, "+-_+"px, 0px)",e.style.transform="translate3d("+u+"px, "+_+"px, 0px)",e.style.height=d+"px",o.innerHTML=r?""+Math.round(d/r):""+Math.round(d))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,a=t.touches[0].clientY,n&&(c.clientX=Number(n[1]),c.clientY=Number(n[2])),p=parseFloat(e.style.height),window.addEventListener("touchend",l),window.addEventListener("touchmove",d)}),{passive:!0})},t.lineAndPointBottom=function(t,e,n,o,i,r){void 0===i&&(i=20);var a,p,s=!1,c={clientX:0,clientY:0};function l(){s=!1,window.removeEventListener("touchend",l),window.removeEventListener("touchmove",d)}function d(t){if(s){var l=-(t.touches[0].clientY-a),d=p-l,h=parseFloat(n.style.height),m=c.clientY;d>h-m&&(d=h-m),h-m>=d&&d>=i&&(e.style.height=d+"px",o.innerHTML=r?""+Math.round(d/r):""+Math.round(d))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,a=t.touches[0].clientY,n&&(c.clientX=Number(n[1]),c.clientY=Number(n[2])),p=parseFloat(e.style.height),window.addEventListener("touchend",l),window.addEventListener("touchmove",d)}),{passive:!0})},t.lineAndPointLeft=function(t,e,n,o,i,r){void 0===i&&(i=20);var a,p,s=!1,c={clientX:0,clientY:0};function l(){s=!1,window.removeEventListener("touchend",l),window.removeEventListener("touchmove",d)}function d(t){if(s){var l=-(t.touches[0].clientX-a),d=l+p,h=parseFloat(n.style.width),m=h-parseFloat(e.style.width),u=c.clientX-l,_=c.clientY;d>h-u&&(d=h-u),(u>=0&&u<=m&&d>=i||d<p&&d>=i)&&(n.style.transform="translate3d("+-u+"px, "+-_+"px, 0px)",e.style.transform="translate3d("+u+"px, "+_+"px, 0px)",e.style.width=d+"px",o.innerHTML=r?""+Math.round(d/r):""+Math.round(d))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,a=t.touches[0].clientX,n&&(c.clientX=Number(n[1]),c.clientY=Number(n[2])),p=parseFloat(e.style.width),window.addEventListener("touchend",l),window.addEventListener("touchmove",d)}),{passive:!0})},t.lineAndPointRight=function(t,e,n,o,i,r){void 0===i&&(i=20);var a,p,s=!1,c={clientX:0,clientY:0};function l(){s=!1,window.removeEventListener("touchend",l),window.removeEventListener("touchmove",d)}function d(t){if(s){var l=-(t.touches[0].clientX-a),d=p-l,h=parseFloat(n.style.width),m=c.clientX;d>h-m&&(d=h-m),h-m>=d&&d>=i&&(e.style.width=d+"px",o.innerHTML=r?""+Math.round(d/r):""+Math.round(d))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);s=!0,a=t.touches[0].clientX,n&&(c.clientX=Number(n[1]),c.clientY=Number(n[2])),p=parseFloat(e.style.width),window.addEventListener("touchend",l),window.addEventListener("touchmove",d)}),{passive:!0})},t.pointLeftAndTop=function(t,e,n,o,i,r,a,p){void 0===a&&(a=20);var s,c,l,d,h,m=!1,u={clientX:0,clientY:0};function _(){m=!1,window.removeEventListener("touchend",_),window.removeEventListener("touchmove",v)}function v(t){var r=t;if(m){var _=void 0,v=void 0;_=-(r.touches[0].clientY-s),v=-(r.touches[0].clientX-c),v=Math.abs(_)>Math.abs(v)?_*h:(_=v/h)*h;var x=_+l,f=v+d,w=parseFloat(n.style.width),L=parseFloat(n.style.height),g=w-parseFloat(e.style.width),y=L-parseFloat(e.style.height),M=u.clientX-v,b=u.clientY-_;if(x>L-b)return;if(f>w-M)return;(b>=0&&b<=y&&x>=a&&M>=0&&M<=g&&f>=a||x<l&&x>=a&&f<d&&f>=a)&&(n.style.transform="translate3d("+-M+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+M+"px, "+b+"px, 0px)",e.style.height=x+"px",e.style.width=f+"px",p?(i.innerHTML=""+Math.round(x/p),o.innerHTML=""+Math.round(f/p)):(i.innerHTML=""+Math.round(x),o.innerHTML=""+Math.round(f)))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);m=!0,c=t.touches[0].clientX,s=t.touches[0].clientY,n&&(u.clientX=Number(n[1]),u.clientY=Number(n[2])),l=parseFloat(e.style.height),d=parseFloat(e.style.width),h=r||d/l,window.addEventListener("touchend",_),window.addEventListener("touchmove",v)}),{passive:!0})},t.pointRightAndTop=function(t,e,n,o,i,r,a,p){void 0===a&&(a=20);var s,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("touchend",u),window.removeEventListener("touchmove",_)}function _(t){if(h){var r=-(t.touches[0].clientY-s),u=r+c,_=r*d+l,v=parseFloat(n.style.width),x=parseFloat(n.style.height),f=v-parseFloat(e.style.width),w=x-parseFloat(e.style.height),L=m.clientX,g=m.clientY-r;if(u>x-g)return;if(_>v-L)return;(g>=0&&g<=w&&u>=a&&L>=0&&L<=f&&_>=a||u<c&&u>=a&&_<l&&_>=a)&&(n.style.transform="translate3d("+-L+"px, "+-g+"px, 0px)",e.style.transform="translate3d("+L+"px, "+g+"px, 0px)",e.style.height=u+"px",e.style.width=_+"px",p?(i.innerHTML=""+Math.round(u/p),o.innerHTML=""+Math.round(_/p)):(i.innerHTML=""+Math.round(u),o.innerHTML=""+Math.round(_)))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,s=t.touches[0].clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("touchend",u),window.addEventListener("touchmove",_)}),{passive:!0})},t.pointLeftAndBottom=function(t,e,n,o,i,r,a,p){void 0===a&&(a=20);var s,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("touchend",u),window.removeEventListener("touchmove",_)}function _(t){if(h){var r=t.touches[0].clientY-s,u=r*d,_=r+c,v=u+l,x=parseFloat(n.style.width),f=parseFloat(n.style.height),w=x-parseFloat(e.style.width),L=f-parseFloat(e.style.height),g=m.clientX-u,y=m.clientY;if(_>f-y)return;if(v>x-g)return;(y>=0&&y<=L&&_>=a&&g>=0&&g<=w&&v>=a||_<c&&_>=a&&v<l&&v>=a)&&(n.style.transform="translate3d("+-g+"px, "+-y+"px, 0px)",e.style.transform="translate3d("+g+"px, "+y+"px, 0px)",e.style.height=_+"px",e.style.width=v+"px",p?(i.innerHTML=""+Math.round(_/p),o.innerHTML=""+Math.round(v/p)):(i.innerHTML=""+Math.round(_),o.innerHTML=""+Math.round(v)))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,s=t.touches[0].clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("touchend",u),window.addEventListener("touchmove",_)}),{passive:!0})},t.pointRightAndBottom=function(t,e,n,o,i,r,a,p){void 0===a&&(a=20);var s,c,l,d,h,m=!1,u={clientX:0,clientY:0};function _(){m=!1,window.removeEventListener("touchend",_),window.removeEventListener("touchmove",v)}function v(t){var r=t;if(m){var _=void 0,v=void 0;v=r.touches[0].clientY-c,_=r.touches[0].clientX-s,_=Math.abs(v)>Math.abs(_)?v*h:(v=_/h)*h;var x=v+l,f=_+d,w=parseFloat(n.style.width),L=parseFloat(n.style.height),g=w-parseFloat(e.style.width),y=L-parseFloat(e.style.height),M=u.clientX,b=u.clientY;if(x>L-b)return;if(f>w-M)return;(b>=0&&b<=y&&x>=a&&M>=0&&M<=g&&f>=a||x<l&&x>=a&&f<d&&f>=a)&&(n.style.transform="translate3d("+-M+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+M+"px, "+b+"px, 0px)",e.style.height=x+"px",e.style.width=f+"px",p?(i.innerHTML=""+Math.round(x/p),o.innerHTML=""+Math.round(f/p)):(i.innerHTML=""+Math.round(x),o.innerHTML=""+Math.round(f)))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);m=!0,s=t.touches[0].clientX,c=t.touches[0].clientY,n&&(u.clientX=Number(n[1]),u.clientY=Number(n[2])),l=parseFloat(e.style.height),d=parseFloat(e.style.width),h=r||d/l,window.addEventListener("touchend",_),window.addEventListener("touchmove",v)}),{passive:!0})},t}(),H=function(){function t(){}return t.clear=function(t,e,n){t.style.height="0px",t.style.width="0px",t.style.transform="translate3d(0px, 0px, 0px)",e.innerHTML="0",n.innerHTML="0"},t.selectAll=function(t,e,n,o,i){var r=Math.round(parseFloat(o.style.width)),a=Math.round(parseFloat(o.style.height));t.style.height=a+"px",t.style.width=r+"px",t.style.transform="translate3d(0px, 0px, 0px)",o.style.transform="translate3d(0px, 0px, 0px)",i?(e.innerHTML=""+Math.round(a/i),n.innerHTML=""+Math.round(r/i)):(e.innerHTML=""+a,n.innerHTML=""+r)},t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".main__crop-main__2Xu2i{position:relative;height:400px;width:500px;overflow:hidden;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 auto}.main__crop-main__2Xu2i .main__crop-bottom-box__12vLt{position:absolute;background:#000;height:100%;width:100%}.main__crop-main__2Xu2i .main__crop-bottom-box__12vLt img{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.main__crop-main__2Xu2i .main__crop-mask__M2Lxd{position:absolute;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,.5)}.main__crop-main__2Xu2i .main__crop-box__3wkxc{position:absolute;top:50px}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-img__2qWsz{overflow:hidden;height:100%}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-move__1aJO-{position:absolute;top:0;left:0;width:100%;height:100%;cursor:move}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-info__1ILcD{position:absolute;left:0;top:-21px;cursor:default;min-width:65px;text-align:center;color:#fff;line-height:20px;background-color:rgba(0,0,0,.8);font-size:12px}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line__1-vEG{position:absolute;display:block;width:100%;height:100%;opacity:.1}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-top__2gG5M{top:-3px;left:0;height:5px;cursor:n-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-right__176v6{top:0;right:-3px;width:5px;cursor:e-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-bottom__3Ca1o{bottom:-3px;left:0;height:5px;cursor:s-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-left__2jeu5{top:0;left:-3px;width:5px;cursor:w-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point__15KQj{position:absolute;width:8px;height:8px;opacity:.75;background-color:#39f;border-radius:100%}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point1__2PZiE{top:-4px;left:-4px;cursor:nw-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point2__KsQWe{top:-5px;left:50%;margin-left:-3px;cursor:n-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point3__3c0so{top:-4px;right:-4px;cursor:ne-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point4__3c9hU{top:50%;left:-4px;margin-top:-3px;cursor:w-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point5__3L_Nc{top:50%;right:-4px;margin-top:-3px;cursor:e-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point6__3CWwi{bottom:-5px;left:-4px;cursor:sw-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point7__1Ymsl{bottom:-5px;left:50%;margin-left:-3px;cursor:s-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point8__3-RHx{bottom:-5px;right:-4px;cursor:se-resize;z-index:10}");var A=function(){function t(t,e,n,o,i,r,a,p,s,c,l){var d=this;if(void 0===n&&(n="auto"),void 0===o&&(o="auto"),void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===a&&(a=20),this.resultWidth=n,this.resultHeight=o,this.fileType=c,this.fileName=l,this.cropMain=new Y((function(t,e){s&&(e=s),p&&(t=p),d.bindEvent(a,i,r,t/e,d.cropMain.getProportion())}),p,s),e instanceof File){c||(this.fileType=e.type),l||(this.fileName=e.name);var h=new FileReader;h.readAsDataURL(e),h.onload=function(e){e.target&&e.target.result&&(d.cropMain.cropBottomBox.img.src=e.target.result,d.cropMain.cropBox.cropBoxImgObj.img.src=e.target.result,d.cropMain.cropBottomBox.cropBottomBoxMain.style.height="",t.append(d.cropMain.cropMainMain))}}else this.cropMain.cropBottomBox.img.src=e,this.cropMain.cropBox.cropBoxImgObj.img.src=e,this.cropMain.cropBottomBox.cropBottomBoxMain.style.height="",t.append(this.cropMain.cropMainMain);this.cropMain.cropBottomBox.img.addEventListener("load",(function(){d.proportion=d.cropMain.getProportion()}))}return t.prototype.bindEvent=function(t,e,n,o,i){var r=this.cropMain.cropBox.cropBoxMain,a=this.cropMain.cropBox.cropBoxImgObj.img,p=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,s=this.cropMain.cropBox.cropBoxInfoObj.infoWidth,c=this.cropMain.cropBox.cropBoxPointLineWrapperObj;F.move(this.cropMain.cropBox.cropBoxMove,r,a),F.pointLeftAndTop(c.cropPoint1,r,a,s,p,o,t,i),F.pointRightAndTop(c.cropPoint3,r,a,s,p,o,t,i),F.pointLeftAndBottom(c.cropPoint6,r,a,s,p,o,t,i),F.pointRightAndBottom(c.cropPoint8,r,a,s,p,o,t,i),P.move(this.cropMain.cropBox.cropBoxMove,r,a),P.pointLeftAndTop(c.cropPoint1,r,a,s,p,o,t,i),P.pointRightAndTop(c.cropPoint3,r,a,s,p,o,t,i),P.pointLeftAndBottom(c.cropPoint6,r,a,s,p,o,t,i),P.pointRightAndBottom(c.cropPoint8,r,a,s,p,o,t,i),e?(F.selectArea(this.cropMain.cropMask,r,a,s,p,o,i),F.lineAndPointTop(c.cropLineTop,r,a,p,t,i),F.lineAndPointTop(c.cropPoint2,r,a,p,t,i),F.lineAndPointBottom(c.cropLineBottom,r,a,p,t,i),F.lineAndPointBottom(c.cropPoint7,r,a,p,t,i),F.lineAndPointLeft(c.cropLineLeft,r,a,s,t,i),F.lineAndPointLeft(c.cropPoint4,r,a,s,t,i),F.lineAndPointRight(c.cropLineRight,r,a,s,t,i),F.lineAndPointRight(c.cropPoint5,r,a,s,t,i)):(F.pointLeftAndTop(c.cropLineLeft,r,a,s,p,o,t,i),F.pointLeftAndTop(c.cropPoint4,r,a,s,p,o,t,i),F.pointRightAndTop(c.cropLineTop,r,a,s,p,o,t,i),F.pointRightAndTop(c.cropPoint2,r,a,s,p,o,t,i),F.pointLeftAndBottom(c.cropLineBottom,r,a,s,p,o,t,i),F.pointLeftAndBottom(c.cropPoint7,r,a,s,p,o,t,i),F.pointRightAndBottom(c.cropLineRight,r,a,s,p,o,t,i),F.pointRightAndBottom(c.cropPoint5,r,a,s,p,o,t,i)),n?(P.selectArea(this.cropMain.cropMask,r,a,s,p,o),P.lineAndPointTop(c.cropLineTop,r,a,p,t,i),P.lineAndPointTop(c.cropPoint2,r,a,p,t,i),P.lineAndPointBottom(c.cropLineBottom,r,a,p,t,i),P.lineAndPointBottom(c.cropPoint7,r,a,p,t,i),P.lineAndPointLeft(c.cropLineLeft,r,a,s,t,i),P.lineAndPointLeft(c.cropPoint4,r,a,s,t,i),P.lineAndPointRight(c.cropLineRight,r,a,s,t,i),P.lineAndPointRight(c.cropPoint5,r,a,s,t,i)):(P.pointLeftAndTop(c.cropLineLeft,r,a,s,p,o,t,i),P.pointLeftAndTop(c.cropPoint4,r,a,s,p,o,t,i),P.pointRightAndTop(c.cropLineTop,r,a,s,p,o,t,i),P.pointRightAndTop(c.cropPoint2,r,a,s,p,o,t,i),P.pointLeftAndBottom(c.cropLineBottom,r,a,s,p,o,t,i),P.pointLeftAndBottom(c.cropPoint7,r,a,s,p,o,t,i),P.pointRightAndBottom(c.cropLineRight,r,a,s,p,o,t,i),P.pointRightAndBottom(c.cropPoint5,r,a,s,p,o,t,i))},t.prototype.download=function(){if(!this.blobUrl)return console.error(new Error("It must be parsed through getResult before download")),this;var t=document.createElement("a");t.download=this.fileName||(new Date).getTime().toString(),t.href=this.blobUrl,t.click()},t.prototype.getResult=function(t,e){var n=this,o=this.cropMain.cropBox.cropBoxMain,i=this.cropMain.cropBox.cropBoxImgObj.img,r=document.createElement("canvas"),a=r.getContext("2d");if(a){var p=parseFloat(o.style.width)/this.proportion,s=parseFloat(o.style.height)/this.proportion,c=o.style.transform.match(/[0-9\.-]+/g);if("auto"===this.resultWidth?r.width=p:r.width=this.resultWidth,"auto"===this.resultHeight?r.height=s:r.height=this.resultHeight,a.clearRect(0,0,r.width,r.height),c){var l=Number(c[1])/this.proportion,d=Number(c[2])/this.proportion;a.drawImage(i,l,d,p,s,0,0,r.width,r.height),r.toBlob((function(o){o&&(t&&t(o),n.blobUrl=window.URL.createObjectURL(o),e&&n.download())}),this.fileType||"image/jpeg")}}return this},t.prototype.destroy=function(){this.cropMain.cropMainMain.remove()},t.prototype.clear=function(){var t=this.cropMain.cropBox.cropBoxMain,e=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,n=this.cropMain.cropBox.cropBoxInfoObj.infoWidth;return H.clear(t,e,n),this},t.prototype.selectAll=function(){var t=this.cropMain.cropBox.cropBoxMain,e=this.cropMain.cropBox.cropBoxImgObj.img,n=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,o=this.cropMain.cropBox.cropBoxInfoObj.infoWidth;return H.selectAll(t,n,o,e,this.proportion),this},t}();function I(t,e,n){return n?new A(t,e,n.resultWidth,n.resultHeight,n.pcIsZoomFree,n.mobileIsZoomFree,n.minWH,n.startWidth,n.startHeight,n.fileType,n.fileName):new A(t,e)}export default I;
//# sourceMappingURL=lcl-image-cropper.min.mjs.map
