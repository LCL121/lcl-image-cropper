var t="main__crop-main__2Xu2i",e="main__crop-bottom-box__12vLt",n="main__crop-mask__M2Lxd",o="main__crop-box__3wkxc",i="main__crop-box-img__2qWsz",r="main__crop-box-move__1aJO-",a="main__crop-box-info__1ILcD",p="main__crop-box-point-line-wrapper__289IK",s="main__crop-line__1-vEG",c="main__crop-line-top__2gG5M",l="main__crop-line-right__176v6",d="main__crop-line-bottom__3Ca1o",h="main__crop-line-left__2jeu5",m="main__crop-point__15KQj",u="main__crop-point1__2PZiE",_="main__crop-point2__KsQWe",f="main__crop-point3__3c0so",x="main__crop-point4__3c9hU",v="main__crop-point5__3L_Nc",w="main__crop-point6__3CWwi",g="main__crop-point7__1Ymsl",y="main__crop-point8__3-RHx",L=function(t,e){var n=document.createElement(t);if(e)for(var o=0,i=e;o<i.length;o++){var r=i[o];n.classList.add(r)}return n},b=function(){this.cropBottomBoxMain=L("div",[e]),this.img=L("img"),this.cropBottomBoxMain.append(this.img)},M=function(){this.cropLineTop=L("span",[s,c]),this.cropLineRight=L("span",[s,l]),this.cropLineBottom=L("span",[s,d]),this.cropLineLeft=L("span",[s,h]),this.cropPoint1=L("span",[m,u]),this.cropPoint2=L("span",[m,_]),this.cropPoint3=L("span",[m,f]),this.cropPoint4=L("span",[m,x]),this.cropPoint5=L("span",[m,v]),this.cropPoint6=L("span",[m,w]),this.cropPoint7=L("span",[m,g]),this.cropPoint8=L("span",[m,y]),this.cropBoxPointLineWrapperMain=L("div",[p]),this.cropBoxPointLineWrapperMain.append(this.cropLineTop,this.cropLineRight,this.cropLineBottom,this.cropLineLeft,this.cropPoint1,this.cropPoint2,this.cropPoint3,this.cropPoint4,this.cropPoint5,this.cropPoint6,this.cropPoint7,this.cropPoint8)},B=function(){this.cropBoxImgMain=L("div",[i]),this.img=L("img"),this.cropBoxImgMain.append(this.img)},E=function(){this.cropBoxInfoMain=L("div",[a]),this.infoWidth=L("span"),this.infoHeight=L("span"),this.cropBoxInfoMain.append(this.infoWidth,document.createTextNode(" x "),this.infoHeight)},X=function(){this.cropBoxMain=L("div",[o]),this.cropBoxImgObj=new B,this.cropBoxMove=L("div",[r]),this.cropBoxInfoObj=new E,this.cropBoxPointLineWrapperObj=new M,this.cropBoxMain.append(this.cropBoxImgObj.cropBoxImgMain,this.cropBoxMove,this.cropBoxInfoObj.cropBoxInfoMain,this.cropBoxPointLineWrapperObj.cropBoxPointLineWrapperMain)},Y=function(){function e(e,o,i){var r=this;this.cropMainMain=L("div",[t]),this.cropBottomBox=new b,this.cropMask=L("div",[n]),this.cropBox=new X,this.cropMainMain.append(this.cropBottomBox.cropBottomBoxMain,this.cropMask,this.cropBox.cropBoxMain),this.cropBottomBox.img.onload=function(t){var n=r.cropBox.cropBoxMain,a=r.cropBox.cropBoxImgObj.img,p=r.cropBottomBox.img,s=r.cropBox.cropBoxInfoObj.infoWidth,c=r.cropBox.cropBoxInfoObj.infoHeight,l=t.target,d=l.height;e(l.width,l.height);var h=l.height/300,m=l.width/h;n.style.left=Math.floor((500-m)/2)+"px",n.style.width=(o||Math.floor(m/2))+"px",n.style.height=(i||150)+"px",n.style.transform="translate3d(0px, 0px, 0px)",screen.width<500&&(r.cropMainMain.style.width=screen.width+"px",n.style.left=Math.floor((screen.width-m)/2)+"px"),a.style.width=m+"px",a.style.height="300px",a.style.transform="translate3d(0px, 0px, 0px)",p.style.height="300px",c.innerHTML=""+(o||Math.floor(m/2)),s.innerHTML=""+(i||150),r.proportion=l.height/d}}return e.prototype.getProportion=function(){return this.proportion?this.proportion:0},e}(),F=function(){function t(){}return t.move=function(t,e,n){var o=!1,i={clientX:0,clientY:0},r={clientX:0,clientY:0};function a(t){var a=t;if(o){var p=a.clientX-i.clientX+r.clientX,s=parseFloat(n.style.width)-parseFloat(e.style.width);p>s&&(p=s),p<0&&(p=0);var c=a.clientY-i.clientY+r.clientY,l=parseFloat(n.style.height)-parseFloat(e.style.height);c>l&&(c=l),c<0&&(c=0),n.style.transform="translate3d("+-p+"px, "+-c+"px, 0px)",e.style.transform="translate3d("+p+"px, "+c+"px, 0px)"}}function p(){o=!1,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",p)}t.addEventListener("mousedown",(function(t){var n=t,s=e.style.transform.match(/[0-9\.-]+/g);o=!0,i.clientX=n.clientX,i.clientY=n.clientY,s&&(r.clientX=Number(s[1]),r.clientY=Number(s[2])),window.addEventListener("mousemove",a),window.addEventListener("mouseup",p)}))},t.lineAndPointTop=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,p=!1,s={clientX:0,clientY:0};function c(){p=!1,window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",l)}function l(t){if(p){var c=-(t.clientY-r),l=c+a,d=parseFloat(n.style.height),h=d-parseFloat(e.style.height),m=s.clientX,u=s.clientY-c;l>d-u&&(l=d-u),(u>=0&&u<=h&&l>=i||l<a&&l>=i)&&(n.style.transform="translate3d("+-m+"px, "+-u+"px, 0px)",e.style.transform="translate3d("+m+"px, "+u+"px, 0px)",e.style.height=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);p=!0,r=t.clientY,n&&(s.clientX=Number(n[1]),s.clientY=Number(n[2])),a=parseFloat(e.style.height),window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)}))},t.lineAndPointBottom=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,p=!1,s={clientX:0,clientY:0};function c(){p=!1,window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",l)}function l(t){if(p){var c=-(t.clientY-r),l=a-c,d=parseFloat(n.style.height),h=s.clientY;l>d-h&&(l=d-h),d-h>=l&&l>=i&&(e.style.height=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);p=!0,r=t.clientY,n&&(s.clientX=Number(n[1]),s.clientY=Number(n[2])),a=parseFloat(e.style.height),window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)}))},t.lineAndPointLeft=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,p=!1,s={clientX:0,clientY:0};function c(){p=!1,window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",l)}function l(t){if(p){var c=-(t.clientX-r),l=c+a,d=parseFloat(n.style.width),h=d-parseFloat(e.style.width),m=s.clientX-c,u=s.clientY;l>d-m&&(l=d-m),(m>=0&&m<=h&&l>=i||l<a&&l>=i)&&(n.style.transform="translate3d("+-m+"px, "+-u+"px, 0px)",e.style.transform="translate3d("+m+"px, "+u+"px, 0px)",e.style.width=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);p=!0,r=t.clientX,n&&(s.clientX=Number(n[1]),s.clientY=Number(n[2])),a=parseFloat(e.style.width),window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)}))},t.lineAndPointRight=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,p=!1,s={clientX:0,clientY:0};function c(){p=!1,window.removeEventListener("mouseup",c),window.removeEventListener("mousemove",l)}function l(t){if(p){var c=-(t.clientX-r),l=a-c,d=parseFloat(n.style.width),h=s.clientX;l>d-h&&(l=d-h),d-h>=l&&l>=i&&(e.style.width=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);p=!0,r=t.clientX,n&&(s.clientX=Number(n[1]),s.clientY=Number(n[2])),a=parseFloat(e.style.width),window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)}))},t.pointLeftAndTop=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var p,s,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",_)}function _(t){var r=t;if(h){var u=void 0,_=void 0;u=-(r.clientY-p),_=-(r.clientX-s),_=Math.abs(u)>Math.abs(_)?u*d:(u=_/d)*d;var f=u+c,x=_+l,v=parseFloat(n.style.width),w=parseFloat(n.style.height),g=v-parseFloat(e.style.width),y=w-parseFloat(e.style.height),L=m.clientX-_,b=m.clientY-u;if(f>w-b)return;if(x>v-L)return;(b>=0&&b<=y&&f>=a&&L>=0&&L<=g&&x>=a||f<c&&f>=a&&x<l&&x>=a)&&(n.style.transform="translate3d("+-L+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+L+"px, "+b+"px, 0px)",e.style.height=f+"px",e.style.width=x+"px",i.innerHTML=""+Math.round(f),o.innerHTML=""+Math.round(x))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,s=t.clientX,p=t.clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("mouseup",u),window.addEventListener("mousemove",_)}))},t.pointRightAndTop=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var p,s,c,l,d=!1,h={clientX:0,clientY:0};function m(){d=!1,window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",u)}function u(t){if(d){var r=-(t.clientY-p),m=r+s,u=r*l+c,_=parseFloat(n.style.width),f=parseFloat(n.style.height),x=_-parseFloat(e.style.width),v=f-parseFloat(e.style.height),w=h.clientX,g=h.clientY-r;if(m>f-g)return;if(u>_-w)return;(g>=0&&g<=v&&m>=a&&w>=0&&w<=x&&u>=a||m<s&&m>=a&&u<c&&u>=a)&&(n.style.transform="translate3d("+-w+"px, "+-g+"px, 0px)",e.style.transform="translate3d("+w+"px, "+g+"px, 0px)",e.style.height=m+"px",e.style.width=u+"px",i.innerHTML=""+Math.round(m),o.innerHTML=""+Math.round(u))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);d=!0,p=t.clientY,n&&(h.clientX=Number(n[1]),h.clientY=Number(n[2])),s=parseFloat(e.style.height),c=parseFloat(e.style.width),l=r||c/s,window.addEventListener("mouseup",m),window.addEventListener("mousemove",u)}))},t.pointLeftAndBottom=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var p,s,c,l,d=!1,h={clientX:0,clientY:0};function m(){d=!1,window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",u)}function u(t){if(d){var r=t.clientY-p,m=r*l,u=r+s,_=m+c,f=parseFloat(n.style.width),x=parseFloat(n.style.height),v=f-parseFloat(e.style.width),w=x-parseFloat(e.style.height),g=h.clientX-m,y=h.clientY;if(u>x-y)return;if(_>f-g)return;(y>=0&&y<=w&&u>=a&&g>=0&&g<=v&&_>=a||u<s&&u>=a&&_<c&&_>=a)&&(n.style.transform="translate3d("+-g+"px, "+-y+"px, 0px)",e.style.transform="translate3d("+g+"px, "+y+"px, 0px)",e.style.height=u+"px",e.style.width=_+"px",i.innerHTML=""+Math.round(u),o.innerHTML=""+Math.round(_))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);d=!0,p=t.clientY,n&&(h.clientX=Number(n[1]),h.clientY=Number(n[2])),s=parseFloat(e.style.height),c=parseFloat(e.style.width),l=r||c/s,window.addEventListener("mouseup",m),window.addEventListener("mousemove",u)}))},t.pointRightAndBottom=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var p,s,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",_)}function _(t){var r=t;if(h){var u=void 0,_=void 0;_=r.clientY-s,u=r.clientX-p,u=Math.abs(_)>Math.abs(u)?_*d:(_=u/d)*d;var f=_+c,x=u+l,v=parseFloat(n.style.width),w=parseFloat(n.style.height),g=v-parseFloat(e.style.width),y=w-parseFloat(e.style.height),L=m.clientX,b=m.clientY;if(f>w-b)return;if(x>v-L)return;(b>=0&&b<=y&&f>=a&&L>=0&&L<=g&&x>=a||f<c&&f>=a&&x<l&&x>=a)&&(n.style.transform="translate3d("+-L+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+L+"px, "+b+"px, 0px)",e.style.height=f+"px",e.style.width=x+"px",i.innerHTML=""+Math.round(f),o.innerHTML=""+Math.round(x))}}t.addEventListener("mousedown",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,p=t.clientX,s=t.clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("mouseup",u),window.addEventListener("mousemove",_)}))},t}(),P=function(){function t(){}return t.move=function(t,e,n){var o=!1,i={clientX:0,clientY:0},r={clientX:0,clientY:0};function a(t){var a=t;if(o){var p=a.touches[0].clientX-i.clientX+r.clientX,s=parseFloat(n.style.width)-parseFloat(e.style.width);p>s&&(p=s),p<0&&(p=0);var c=a.touches[0].clientY-i.clientY+r.clientY,l=parseFloat(n.style.height)-parseFloat(e.style.height);c>l&&(c=l),c<0&&(c=0),n.style.transform="translate3d("+-p+"px, "+-c+"px, 0px)",e.style.transform="translate3d("+p+"px, "+c+"px, 0px)"}}function p(){o=!1,window.removeEventListener("touchmove",a),window.removeEventListener("touchend",p)}t.addEventListener("touchstart",(function(t){var n=t,s=e.style.transform.match(/[0-9\.-]+/g);o=!0,i.clientX=n.touches[0].clientX,i.clientY=n.touches[0].clientY,s&&(r.clientX=Number(s[1]),r.clientY=Number(s[2])),window.addEventListener("touchmove",a),window.addEventListener("touchend",p)}),{passive:!0})},t.selectArea=function(e,n,o,i,r,a){var p,s,c,l,d=!1;function h(t){var e=t;if(d){var a=c,p=l,h=e.touches[0].pageX-s.left,m=e.touches[0].pageY-s.top;m<0&&(p=l-(m=-m)),h<0&&(a=c-(h=-h));var u=parseFloat(o.style.width)-a,_=parseFloat(o.style.height)-p;if(h>u||m>_)return;if(a<0||p<0)return;o.style.transform="translate3d("+-a+"px, "+-p+"px, 0px)",n.style.transform="translate3d("+a+"px, "+p+"px, 0px)",n.style.height=m+"px",n.style.width=h+"px",i.innerHTML=""+Math.round(m),r.innerHTML=""+Math.round(h)}}function m(){d=!1,window.addEventListener("touchmove",h),window.addEventListener("touchend",m)}o.onload=function(){p=function(t){for(var e=0,n=0;t;)e+=t.offsetTop,n+=t.offsetLeft,t=t.parentElement;return{top:e,left:n}}(n)},e.addEventListener("touchstart",(function(e){var n=e,o={top:n.touches[0].pageY,left:n.touches[0].pageX};t.isInRange(p,o)&&(d=!0,s=o,c=o.left-p.left,l=o.top-p.top,window.addEventListener("touchmove",h),window.addEventListener("touchend",m))}),{passive:!0})},t.isInRange=function(t,e){return!(e.left<t.left)&&!(e.top<t.top)},t.lineAndPointTop=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,p=!1,s={clientX:0,clientY:0};function c(){p=!1,window.removeEventListener("touchend",c),window.removeEventListener("touchmove",l)}function l(t){if(p){var c=-(t.touches[0].clientY-r),l=c+a,d=parseFloat(n.style.height),h=d-parseFloat(e.style.height),m=s.clientX,u=s.clientY-c;l>d-u&&(l=d-u),(u>=0&&u<=h&&l>=i||l<a&&l>=i)&&(n.style.transform="translate3d("+-m+"px, "+-u+"px, 0px)",e.style.transform="translate3d("+m+"px, "+u+"px, 0px)",e.style.height=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);p=!0,r=t.touches[0].clientY,n&&(s.clientX=Number(n[1]),s.clientY=Number(n[2])),a=parseFloat(e.style.height),window.addEventListener("touchend",c),window.addEventListener("touchmove",l)}))},t.lineAndPointBottom=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,p=!1,s={clientX:0,clientY:0};function c(){p=!1,window.removeEventListener("touchend",c),window.removeEventListener("touchmove",l)}function l(t){if(p){var c=-(t.touches[0].clientY-r),l=a-c,d=parseFloat(n.style.height),h=s.clientY;l>d-h&&(l=d-h),d-h>=l&&l>=i&&(e.style.height=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);p=!0,r=t.touches[0].clientY,n&&(s.clientX=Number(n[1]),s.clientY=Number(n[2])),a=parseFloat(e.style.height),window.addEventListener("touchend",c),window.addEventListener("touchmove",l)}))},t.lineAndPointLeft=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,p=!1,s={clientX:0,clientY:0};function c(){p=!1,window.removeEventListener("touchend",c),window.removeEventListener("touchmove",l)}function l(t){if(p){var c=-(t.touches[0].clientX-r),l=c+a,d=parseFloat(n.style.width),h=d-parseFloat(e.style.width),m=s.clientX-c,u=s.clientY;l>d-m&&(l=d-m),(m>=0&&m<=h&&l>=i||l<a&&l>=i)&&(n.style.transform="translate3d("+-m+"px, "+-u+"px, 0px)",e.style.transform="translate3d("+m+"px, "+u+"px, 0px)",e.style.width=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);p=!0,r=t.touches[0].clientX,n&&(s.clientX=Number(n[1]),s.clientY=Number(n[2])),a=parseFloat(e.style.width),window.addEventListener("touchend",c),window.addEventListener("touchmove",l)}))},t.lineAndPointRight=function(t,e,n,o,i){void 0===i&&(i=20);var r,a,p=!1,s={clientX:0,clientY:0};function c(){p=!1,window.removeEventListener("touchend",c),window.removeEventListener("touchmove",l)}function l(t){if(p){var c=-(t.touches[0].clientX-r),l=a-c,d=parseFloat(n.style.width),h=s.clientX;l>d-h&&(l=d-h),d-h>=l&&l>=i&&(e.style.width=l+"px",o.innerHTML=""+Math.round(l))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);p=!0,r=t.touches[0].clientX,n&&(s.clientX=Number(n[1]),s.clientY=Number(n[2])),a=parseFloat(e.style.width),window.addEventListener("touchend",c),window.addEventListener("touchmove",l)}))},t.pointLeftAndTop=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var p,s,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("touchend",u),window.removeEventListener("touchmove",_)}function _(t){var r=t;if(h){var u=void 0,_=void 0;u=-(r.touches[0].clientY-p),_=-(r.touches[0].clientX-s),_=Math.abs(u)>Math.abs(_)?u*d:(u=_/d)*d;var f=u+c,x=_+l,v=parseFloat(n.style.width),w=parseFloat(n.style.height),g=v-parseFloat(e.style.width),y=w-parseFloat(e.style.height),L=m.clientX-_,b=m.clientY-u;if(f>w-b)return;if(x>v-L)return;(b>=0&&b<=y&&f>=a&&L>=0&&L<=g&&x>=a||f<c&&f>=a&&x<l&&x>=a)&&(n.style.transform="translate3d("+-L+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+L+"px, "+b+"px, 0px)",e.style.height=f+"px",e.style.width=x+"px",i.innerHTML=""+Math.round(f),o.innerHTML=""+Math.round(x))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,s=t.touches[0].clientX,p=t.touches[0].clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("touchend",u),window.addEventListener("touchmove",_)}))},t.pointRightAndTop=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var p,s,c,l,d=!1,h={clientX:0,clientY:0};function m(){d=!1,window.removeEventListener("touchend",m),window.removeEventListener("touchmove",u)}function u(t){if(d){var r=-(t.touches[0].clientY-p),m=r+s,u=r*l+c,_=parseFloat(n.style.width),f=parseFloat(n.style.height),x=_-parseFloat(e.style.width),v=f-parseFloat(e.style.height),w=h.clientX,g=h.clientY-r;if(m>f-g)return;if(u>_-w)return;(g>=0&&g<=v&&m>=a&&w>=0&&w<=x&&u>=a||m<s&&m>=a&&u<c&&u>=a)&&(n.style.transform="translate3d("+-w+"px, "+-g+"px, 0px)",e.style.transform="translate3d("+w+"px, "+g+"px, 0px)",e.style.height=m+"px",e.style.width=u+"px",i.innerHTML=""+Math.round(m),o.innerHTML=""+Math.round(u))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);d=!0,p=t.touches[0].clientY,n&&(h.clientX=Number(n[1]),h.clientY=Number(n[2])),s=parseFloat(e.style.height),c=parseFloat(e.style.width),l=r||c/s,window.addEventListener("touchend",m),window.addEventListener("touchmove",u)}))},t.pointLeftAndBottom=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var p,s,c,l,d=!1,h={clientX:0,clientY:0};function m(){d=!1,window.removeEventListener("touchend",m),window.removeEventListener("touchmove",u)}function u(t){if(d){var r=t.touches[0].clientY-p,m=r*l,u=r+s,_=m+c,f=parseFloat(n.style.width),x=parseFloat(n.style.height),v=f-parseFloat(e.style.width),w=x-parseFloat(e.style.height),g=h.clientX-m,y=h.clientY;if(u>x-y)return;if(_>f-g)return;(y>=0&&y<=w&&u>=a&&g>=0&&g<=v&&_>=a||u<s&&u>=a&&_<c&&_>=a)&&(n.style.transform="translate3d("+-g+"px, "+-y+"px, 0px)",e.style.transform="translate3d("+g+"px, "+y+"px, 0px)",e.style.height=u+"px",e.style.width=_+"px",i.innerHTML=""+Math.round(u),o.innerHTML=""+Math.round(_))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);d=!0,p=t.touches[0].clientY,n&&(h.clientX=Number(n[1]),h.clientY=Number(n[2])),s=parseFloat(e.style.height),c=parseFloat(e.style.width),l=r||c/s,window.addEventListener("touchend",m),window.addEventListener("touchmove",u)}))},t.pointRightAndBottom=function(t,e,n,o,i,r,a){void 0===a&&(a=20);var p,s,c,l,d,h=!1,m={clientX:0,clientY:0};function u(){h=!1,window.removeEventListener("touchend",u),window.removeEventListener("touchmove",_)}function _(t){var r=t;if(h){var u=void 0,_=void 0;_=r.touches[0].clientY-s,u=r.touches[0].clientX-p,u=Math.abs(_)>Math.abs(u)?_*d:(_=u/d)*d;var f=_+c,x=u+l,v=parseFloat(n.style.width),w=parseFloat(n.style.height),g=v-parseFloat(e.style.width),y=w-parseFloat(e.style.height),L=m.clientX,b=m.clientY;if(f>w-b)return;if(x>v-L)return;(b>=0&&b<=y&&f>=a&&L>=0&&L<=g&&x>=a||f<c&&f>=a&&x<l&&x>=a)&&(n.style.transform="translate3d("+-L+"px, "+-b+"px, 0px)",e.style.transform="translate3d("+L+"px, "+b+"px, 0px)",e.style.height=f+"px",e.style.width=x+"px",i.innerHTML=""+Math.round(f),o.innerHTML=""+Math.round(x))}}t.addEventListener("touchstart",(function(t){var n=e.style.transform.match(/[0-9\.-]+/g);h=!0,p=t.touches[0].clientX,s=t.touches[0].clientY,n&&(m.clientX=Number(n[1]),m.clientY=Number(n[2])),c=parseFloat(e.style.height),l=parseFloat(e.style.width),d=r||l/c,window.addEventListener("touchend",u),window.addEventListener("touchmove",_)}))},t}(),T=function(){function t(){}return t.clear=function(t,e,n){t.style.height="0px",t.style.width="0px",t.style.transform="translate3d(0px, 0px, 0px)",e.innerHTML="0",n.innerHTML="0"},t.selectAll=function(t,e,n,o){var i=Math.round(parseFloat(o.style.width)),r=Math.round(parseFloat(o.style.height));t.style.height=r+"px",t.style.width=i+"px",t.style.transform="translate3d(0px, 0px, 0px)",o.style.transform="translate3d(0px, 0px, 0px)",e.innerHTML=""+r,n.innerHTML=""+i},t}();function A(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}A('a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}');A(".main__crop-main__2Xu2i{position:relative;height:400px;width:500px;overflow:hidden;touch-action:none}.main__crop-main__2Xu2i .main__crop-bottom-box__12vLt{position:absolute;background:#000;height:100%;width:100%}.main__crop-main__2Xu2i .main__crop-bottom-box__12vLt img{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.main__crop-main__2Xu2i .main__crop-mask__M2Lxd{position:absolute;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,.5)}.main__crop-main__2Xu2i .main__crop-box__3wkxc{position:absolute;top:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-img__2qWsz{overflow:hidden;height:100%}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-move__1aJO-{position:absolute;top:0;left:0;width:100%;height:100%;cursor:move}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-info__1ILcD{position:absolute;left:0;top:-21px;cursor:default;min-width:65px;text-align:center;color:#fff;line-height:20px;background-color:rgba(0,0,0,.8);font-size:12px}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line__1-vEG{position:absolute;display:block;width:100%;height:100%;opacity:.1}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-top__2gG5M{top:-3px;left:0;height:5px;cursor:n-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-right__176v6{top:0;right:-3px;width:5px;cursor:e-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-bottom__3Ca1o{bottom:-3px;left:0;height:5px;cursor:s-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-line-left__2jeu5{top:0;left:-3px;width:5px;cursor:w-resize}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point__15KQj{position:absolute;width:8px;height:8px;opacity:.75;background-color:#39f;border-radius:100%}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point1__2PZiE{top:-4px;left:-4px;cursor:nw-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point2__KsQWe{top:-5px;left:50%;margin-left:-3px;cursor:n-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point3__3c0so{top:-4px;right:-4px;cursor:ne-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point4__3c9hU{top:50%;left:-4px;margin-top:-3px;cursor:w-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point5__3L_Nc{top:50%;right:-4px;margin-top:-3px;cursor:e-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point6__3CWwi{bottom:-5px;left:-4px;cursor:sw-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point7__1Ymsl{bottom:-5px;left:50%;margin-left:-3px;cursor:s-resize;z-index:10}.main__crop-main__2Xu2i .main__crop-box__3wkxc .main__crop-box-point-line-wrapper__289IK .main__crop-point8__3-RHx{bottom:-5px;right:-4px;cursor:se-resize;z-index:10}");var N=function(){function t(t,e,n,o,i,r,a,p,s,c,l){var d=this;if(this.resultWidth=n,this.resultHeight=o,this.fileType=p,this.fileName=s,this.cropMain=new Y((function(t,e){d.bindEvent(a,i,r,t/e)}),c,l),e instanceof File){this.fileType=e.type,this.fileName=e.name;var h=new FileReader;h.readAsDataURL(e),h.onload=function(e){e.target&&e.target.result&&(d.cropMain.cropBottomBox.img.src=e.target.result,d.cropMain.cropBox.cropBoxImgObj.img.src=e.target.result,d.cropMain.cropBottomBox.cropBottomBoxMain.style.height="",t.append(d.cropMain.cropMainMain))}}else this.cropMain.cropBottomBox.img.src=e,this.cropMain.cropBox.cropBoxImgObj.img.src=e,this.cropMain.cropBottomBox.cropBottomBoxMain.style.height="",t.append(this.cropMain.cropMainMain)}return t.prototype.bindEvent=function(t,e,n,o){var i=this.cropMain.cropBox.cropBoxMain,r=this.cropMain.cropBox.cropBoxImgObj.img,a=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,p=this.cropMain.cropBox.cropBoxInfoObj.infoWidth,s=this.cropMain.cropBox.cropBoxPointLineWrapperObj;F.move(this.cropMain.cropBox.cropBoxMove,i,r),F.pointLeftAndTop(s.cropPoint1,i,r,p,a,o,t),F.pointRightAndTop(s.cropPoint3,i,r,p,a,o,t),F.pointLeftAndBottom(s.cropPoint6,i,r,p,a,o,t),F.pointRightAndBottom(s.cropPoint8,i,r,p,a,o,t),P.move(this.cropMain.cropBox.cropBoxMove,i,r),P.selectArea(this.cropMain.cropMask,i,r,p,a,o),P.pointLeftAndTop(s.cropPoint1,i,r,p,a,o,t),P.pointRightAndTop(s.cropPoint3,i,r,p,a,o,t),P.pointLeftAndBottom(s.cropPoint6,i,r,p,a,o,t),P.pointRightAndBottom(s.cropPoint8,i,r,p,a,o,t),e?(F.lineAndPointTop(s.cropLineTop,i,r,a,t),F.lineAndPointTop(s.cropPoint2,i,r,a,t),F.lineAndPointBottom(s.cropLineBottom,i,r,a,t),F.lineAndPointBottom(s.cropPoint7,i,r,a,t),F.lineAndPointLeft(s.cropLineLeft,i,r,p,t),F.lineAndPointLeft(s.cropPoint4,i,r,p,t),F.lineAndPointRight(s.cropLineRight,i,r,p,t),F.lineAndPointRight(s.cropPoint5,i,r,p,t)):(F.pointLeftAndTop(s.cropLineLeft,i,r,p,a,o,t),F.pointLeftAndTop(s.cropPoint4,i,r,p,a,o,t),F.pointRightAndTop(s.cropLineTop,i,r,p,a,o,t),F.pointRightAndTop(s.cropPoint2,i,r,p,a,o,t),F.pointLeftAndBottom(s.cropLineBottom,i,r,p,a,o,t),F.pointLeftAndBottom(s.cropPoint7,i,r,p,a,o,t),F.pointRightAndBottom(s.cropLineRight,i,r,p,a,o,t),F.pointRightAndBottom(s.cropPoint5,i,r,p,a,o,t)),n?(P.lineAndPointTop(s.cropLineTop,i,r,a,t),P.lineAndPointTop(s.cropPoint2,i,r,a,t),P.lineAndPointBottom(s.cropLineBottom,i,r,a,t),P.lineAndPointBottom(s.cropPoint7,i,r,a,t),P.lineAndPointLeft(s.cropLineLeft,i,r,p,t),P.lineAndPointLeft(s.cropPoint4,i,r,p,t),P.lineAndPointRight(s.cropLineRight,i,r,p,t),P.lineAndPointRight(s.cropPoint5,i,r,p,t)):(P.pointLeftAndTop(s.cropLineLeft,i,r,p,a,o,t),P.pointLeftAndTop(s.cropPoint4,i,r,p,a,o,t),P.pointRightAndTop(s.cropLineTop,i,r,p,a,o,t),P.pointRightAndTop(s.cropPoint2,i,r,p,a,o,t),P.pointLeftAndBottom(s.cropLineBottom,i,r,p,a,o,t),P.pointLeftAndBottom(s.cropPoint7,i,r,p,a,o,t),P.pointRightAndBottom(s.cropLineRight,i,r,p,a,o,t),P.pointRightAndBottom(s.cropPoint5,i,r,p,a,o,t))},t.prototype.download=function(){if(!this.blobUrl)return console.error(new Error("It must be parsed through getResult before download")),this;var t=document.createElement("a");t.download=this.fileName||(new Date).getTime().toString(),t.href=this.blobUrl,t.click()},t.prototype.getResult=function(t,e){var n=this,o=this.cropMain.cropBox.cropBoxMain,i=this.cropMain.getProportion(),r=this.cropMain.cropBox.cropBoxImgObj.img,a=document.createElement("canvas"),p=a.getContext("2d");if(p){a.width=this.resultWidth,a.height=this.resultHeight,p.clearRect(0,0,this.resultWidth,this.resultHeight);var s=parseFloat(o.style.width)/i,c=parseFloat(o.style.height)/i,l=o.style.transform.match(/[0-9\.-]+/g);if(l){var d=Number(l[1])/i,h=Number(l[2])/i;p.drawImage(r,d,h,s,c,0,0,this.resultWidth,this.resultHeight),a.toBlob((function(o){o&&(t&&t(o),n.blobUrl=window.URL.createObjectURL(o),e&&n.download())}),this.fileType||"image/jpeg")}}return this},t.prototype.destroy=function(){this.cropMain.cropMainMain.remove()},t.prototype.clear=function(){var t=this.cropMain.cropBox.cropBoxMain,e=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,n=this.cropMain.cropBox.cropBoxInfoObj.infoWidth;return T.clear(t,e,n),this},t.prototype.selectAll=function(){var t=this.cropMain.cropBox.cropBoxMain,e=this.cropMain.cropBox.cropBoxImgObj.img,n=this.cropMain.cropBox.cropBoxInfoObj.infoHeight,o=this.cropMain.cropBox.cropBoxInfoObj.infoWidth;return T.selectAll(t,n,o,e),this},t}();function I(t,e,n,o,i,r,a,p,s,c,l){return void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===a&&(a=20),new N(t,e,n,o,i,r,a,p,s,c,l)}export default I;
//# sourceMappingURL=lcl-image-cropper.min.mjs.map
